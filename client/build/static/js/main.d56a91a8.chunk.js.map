{"version":3,"sources":["components/blog/Head.js","views/About.js","views/Login.js","assets/images/defaultImg.jpg","components/blog/Post.js","views/Profile.js","views/Register.js","views/EditProfile.js","components/blog/PostModal.js","components/blog/Posts.js","views/Blog.js","components/NotFound.js","components/layout/Header.js","components/layout/Footer.js","components/blog/EditPost.js","components/blog/PostDetails.js","App.js","index.js","context/Reducer.js","context/Context.js"],"names":["Head","title","className","Container","About","class","target","rel","style","color","href","fontSize","cursor","Login","useContext","Context","dispatch","isFetching","error","useState","touched","isValid","msg","emailValid","setEmailValid","passwordValid","setPasswordValid","submitHandler","e","a","preventDefault","type","email","value","password","axios","post","res","payload","data","window","location","replace","console","log","Row","Col","md","lg","Form","onSubmit","Group","controlId","Label","Control","placeholder","name","onBlur","val","trim","valids","length","test","emailStyle","onKeyUp","passwordStyle","Button","variant","disabled","Post","onShow","userProfile","onDelete","user","Card","to","_id","Img","src","postImg","defaultImg","Body","Title","Text","body","trimmedString","substr","Math","min","lastIndexOf","cutString","ListGroup","Item","createdBy","username","pathname","state","Date","createdAt","toDateString","marginRight","onClick","postTitle","postBody","Profile","posts","setPosts","useLocation","id","useParams","useEffect","get","fetchPosts","map","Spinner","animation","role","Register","usernameValid","setUsernameValid","isError","setError","isLoading","setisLoading","response","status","usernameStyle","EditProfile","setUsername","setEmail","updateForm","setUpdateForm","deleteSuccess","setDeleteSuccess","updateSuccess","setupdateSuccess","isSuccess","showAlert","setShowAlert","refreshToken","token","accessToken","axiosJWT","create","decodedToken","jwt_decode","interceptors","request","use","config","currentDate","exp","getTime","headers","err","Promise","reject","delete","put","Alert","onClose","dismissible","Heading","textAlign","onChange","validateEmail","PostModal","showModal","hideModal","modalData","Modal","show","size","centered","onHide","Header","closeButton","Footer","Posts","setModalData","setShowModal","showModalFun","Blog","NotFound","this","props","history","React","Component","handleLogout","Navbar","collapseOnSelect","expand","bg","sticky","Brand","Toggle","Collapse","Nav","exact","EditPost","postId","setTitle","setBody","image","setImage","addSuccess","setaddSuccess","titleValid","setTitleValid","bodyValid","setBodyValid","addPostHandler","formData","FormData","append","method","url","titleStyle","as","rows","bodyStyle","xs","Image","URL","createObjectURL","thumbnail","accept","files","PostDetails","setPost","fetchPost","setTimeout","lineHeight","AddPost","lazy","App","basename","path","component","render","fallback","from","ReactDOM","StrictMode","document","getElementById","Reducer","action","INITIAL_STATE","JSON","parse","localStorage","getItem","createContext","ContextProvider","children","useReducer","setItem","stringify","Provider"],"mappings":"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","file":"static/js/main.d56a91a8.chunk.js","sourcesContent":["import { Container } from \"react-bootstrap\";\n\nconst Head = ({ title }) => {\n  return (\n    <div className=\"head d-flex justify-content-center align-items-center\">\n      <Container className=\"d-flex justify-content-center\">\n        <h1 className=\"text-white display-2 mx-3\">\n          {title ? title : \"Welcome to Our Blog\"}\n        </h1>\n      </Container>\n    </div>\n  );\n};\n\nexport default Head;\n","import Head from \"../components/blog/Head\";\n\n// Import icons\nimport {\n  FaFacebook,\n  FaGithub,\n  FaLinkedin,\n  FaRegEnvelope,\n  FaWhatsapp,\n} from \"react-icons/fa\";\n\nconst About = () => {\n  return (\n    <>\n      <Head title=\"Contact Me\" />\n      <div class=\"features text-center\">\n        <div class=\"container\">\n          <div class=\"row\">\n            <a\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              style={{ color: \"#2867B2\" }}\n              class=\"col hover-opacity\"\n              href=\"https://www.linkedin.com/in/abdelrazek-ali/\"\n            >\n              <FaLinkedin\n                style={{\n                  fontSize: \"3rem\",\n                  cursor: \"pointer\",\n                }}\n                className=\"my-2\"\n              />\n              <h4 className=\"mb-5\">LinkedIn</h4>\n            </a>\n            <a\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              style={{ color: \"#161b22\" }}\n              class=\"col hover-opacity\"\n              href=\"https://github.com/abdelrazekAli\"\n            >\n              <FaGithub\n                style={{\n                  fontSize: \"3rem\",\n                  cursor: \"pointer\",\n                }}\n                className=\"my-2\"\n              />\n              <h4>Github</h4>\n            </a>\n            <a\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              style={{ color: \"#ec4636\" }}\n              class=\"col hover-opacity\"\n              href=\"mailto:dev.abdelrazek@gmail.com?subject=contact\"\n            >\n              <FaRegEnvelope\n                style={{\n                  fontSize: \"3rem\",\n                  cursor: \"pointer\",\n                }}\n                className=\"my-2\"\n              />\n              <h4>Gmail</h4>\n            </a>\n            <a\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              style={{ color: \"#4267B2\" }}\n              class=\"col hover-opacity\"\n              href=\"https://www.facebook.com/dev.abdelrazek/\"\n            >\n              <FaFacebook\n                style={{\n                  fontSize: \"3rem\",\n                  cursor: \"pointer\",\n                }}\n                className=\"my-2\"\n              />\n              <h4>Facebook</h4>\n            </a>\n            <a\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              style={{ color: \"#25D366\" }}\n              class=\"col hover-opacity\"\n              href=\"https://api.whatsapp.com/send?phone=+201155596710\"\n            >\n              <FaWhatsapp\n                style={{\n                  fontSize: \"3rem\",\n                  cursor: \"pointer\",\n                }}\n                className=\"my-2\"\n              />\n              <h4>Whatsapp</h4>\n            </a>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default About;\n","import axios from \"axios\";\nimport { useContext, useState } from \"react\";\nimport { Context } from \"../context/Context\";\nimport { Button, Container, Form, Row, Col } from \"react-bootstrap\";\n\nconst Login = () => {\n  const { dispatch, isFetching, error } = useContext(Context);\n\n  const [emailValid, setEmailValid] = useState({\n    touched: false,\n    isValid: false,\n    msg: \"\",\n  });\n\n  const [passwordValid, setPasswordValid] = useState({\n    touched: false,\n    isValid: false,\n    msg: \"\",\n  });\n\n  const validateEmail = (email) => {\n    var re = /\\S+@\\S+\\.\\S+/;\n    return re.test(email);\n  };\n\n  const checkEmailValidation = (e) => {\n    let val = e.target.value.trim();\n    let valids = { ...emailValid };\n    valids.touched = true;\n    if (val.length <= 0) {\n      valids.isValid = false;\n      valids.msg = \"Email is required.\";\n    } else if (!validateEmail(val)) {\n      valids.isValid = false;\n      valids.msg = \"Email is not valid\";\n    } else if (val.length > 100) {\n      valids.isValid = false;\n      valids.msg = \"Email must be less than 100 characters.\";\n    } else {\n      valids.isValid = true;\n      valids.msg = \"\";\n    }\n    setEmailValid({ ...valids });\n  };\n\n  const checkPasswordValidation = (e) => {\n    let val = e.target.value.trim();\n    let valids = { ...passwordValid };\n    valids.touched = true;\n    if (val.length <= 0) {\n      valids.isValid = false;\n      valids.msg = \"Password is required.\";\n    } else if (val.length < 4) {\n      valids.isValid = false;\n      valids.msg = \"Password must be more than 3 characters.\";\n    } else if (val.length > 255) {\n      valids.isValid = false;\n      valids.msg = \"Password must be less than 255 characters.\";\n    } else {\n      valids.isValid = true;\n      valids.msg = \"\";\n    }\n    setPasswordValid({ ...valids });\n  };\n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n    dispatch({ type: \"LOGIN_START\" });\n    let email = e.target.email.value,\n      password = e.target.password.value;\n    try {\n      if (emailValid.isValid && passwordValid.isValid) {\n        let res = await axios.post(\"/api/v1/users/login\", { email, password });\n        dispatch({ type: \"LOGIN_SUCCESS\", payload: res.data });\n        window.location.replace(\"/app\");\n      }\n    } catch (err) {\n      dispatch({ type: \"LOGIN_FAILURE\" });\n      console.log(err);\n    }\n  };\n\n  const emailStyle = () => {\n    if (emailValid.touched) {\n      if (emailValid.isValid) {\n        return \"border border-success\";\n      } else return \"border border-danger\";\n    }\n  };\n\n  const passwordStyle = () => {\n    if (passwordValid.touched) {\n      if (passwordValid.isValid) {\n        return \"border border-success\";\n      } else return \"border border-danger\";\n    }\n  };\n\n  return (\n    <Container>\n      <Row>\n        <Col md={6} lg={4} className=\" mx-auto bg-light p-4 my-4 shadow-sm\">\n          <h2 className=\" text-center h4 m-3 text-secondary\">Login</h2>\n          <Form onSubmit={submitHandler}>\n            <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput1\">\n              <Form.Label>Email address</Form.Label>\n              <Form.Control\n                type=\"email\"\n                placeholder=\"Enter email\"\n                name=\"email\"\n                onBlur={checkEmailValidation}\n                className={emailStyle()}\n              />\n              {emailValid.msg && (\n                <small className=\"text-danger p-1\">{emailValid.msg}</small>\n              )}\n            </Form.Group>\n            <Form.Group className=\"mb-3\" controlId=\"formPlaintextPassword\">\n              <Form.Label>Password</Form.Label>\n              <Form.Control\n                type=\"password\"\n                placeholder=\"Enter password\"\n                name=\"password\"\n                onKeyUp={checkPasswordValidation}\n                className={passwordStyle()}\n              />\n              {passwordValid.msg && (\n                <small className=\"text-danger p-1\">{passwordValid.msg}</small>\n              )}\n            </Form.Group>\n            <Button\n              variant=\"primary\"\n              type=\"submit\"\n              className=\"w-100\"\n              disabled={!emailValid.isValid || !passwordValid.isValid}\n            >\n              {isFetching ? \"Loading ...\" : \"Login\"}\n            </Button>\n            {error && (\n              <div className=\"alert alert-danger text-center my-2\">\n                Invalid email or password\n              </div>\n            )}\n          </Form>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default Login;\n","export default __webpack_public_path__ + \"static/media/defaultImg.11e9da86.jpg\";","import { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Context } from \"../../context/Context\";\nimport { Card, Button, ListGroup } from \"react-bootstrap\";\nimport defaultImg from \"../../assets/images/defaultImg.jpg\";\n\nconst Post = ({ post, onShow, userProfile, onDelete }) => {\n  const { user } = useContext(Context);\n\n  // Cut post body\n  const cutString = () => {\n    if (post.body.length < 150) return post.body;\n    let trimmedString = post.body.substr(0, 150);\n    trimmedString = trimmedString.substr(\n      0,\n      Math.min(trimmedString.length, trimmedString.lastIndexOf(\" \"))\n    );\n    return `${trimmedString} . . .`;\n  };\n\n  return (\n    <Card className=\"mb-4 mx-4 mx-lg-0\">\n      <Link to={`/posts/${post._id}`}>\n        <Card.Img\n          variant=\"top\"\n          src={\n            post.postImg\n              ? `https://azstorageabdelrazek.blob.core.windows.net/postimgs/${post.postImg}`\n              : defaultImg\n          }\n        />\n      </Link>\n      <Card.Body>\n        <div className=\"px-1 text-center\">\n          <Card.Title>{post.title}</Card.Title>\n          <Card.Text>{cutString()}</Card.Text>\n        </div>\n        <ListGroup variant=\"flush\">\n          <ListGroup.Item>\n            {user && user._id === post.createdBy._id ? (\n              <Link className=\"username-link\" to=\"/edit-profile\">\n                {post.createdBy ? post.createdBy.username : \"user\"}\n              </Link>\n            ) : (\n              <Link\n                className=\"username-link\"\n                to={{\n                  pathname: `/profile/${post.createdBy._id}`,\n                  state: {\n                    username: post.createdBy.username,\n                  },\n                }}\n              >\n                {post.createdBy ? post.createdBy.username : \"user\"}\n              </Link>\n            )}\n          </ListGroup.Item>\n          <ListGroup.Item>\n            {new Date(post.createdAt).toDateString()}\n          </ListGroup.Item>\n          <ListGroup.Item>\n            <Link\n              className=\"btn btn-primary\"\n              style={{ marginRight: \"5px\" }}\n              to={`/posts/${post._id}`}\n            >\n              Open Post\n            </Link>\n            {!userProfile && (\n              <Button variant=\"primary\" onClick={() => onShow(post)}>\n                Open Modal\n              </Button>\n            )}\n            {userProfile && (\n              <>\n                <Link\n                  className=\"btn btn-primary\"\n                  to={{\n                    pathname: `/edit-post/${post._id}`,\n                    state: {\n                      postTitle: post.title,\n                      postBody: post.body,\n                      postImg: post.postImg,\n                    },\n                  }}\n                  style={{ marginRight: \"5px\" }}\n                >\n                  Edit Post\n                </Link>\n                <Button variant=\"danger\" onClick={() => onDelete(post)}>\n                  Delete Post\n                </Button>\n              </>\n            )}\n          </ListGroup.Item>\n        </ListGroup>\n      </Card.Body>\n    </Card>\n  );\n};\n\nexport default Post;\n","import axios from \"axios\";\nimport Head from \"../components/blog/Head\";\nimport Post from \"../components/blog/Post\";\nimport { useEffect, useState } from \"react\";\nimport { useLocation, useParams } from \"react-router-dom\";\nimport { Container, Row, Spinner, Col } from \"react-bootstrap\";\n\nconst Profile = () => {\n  const [posts, setPosts] = useState([]);\n\n  const location = useLocation();\n  const { id } = useParams();\n  const { username } = location.state;\n\n  useEffect(() => {\n    const fetchPosts = async () => {\n      try {\n        const res = await axios.get(`/api/v1/posts?userId=${id}`);\n        setPosts(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchPosts();\n  }, [id]);\n\n  const renderPosts = () => {\n    return posts.length > 0 ? (\n      posts.map((post) => (\n        <Col md={6} lg={4} key={post._id}>\n          <Post post={post} />\n        </Col>\n      ))\n    ) : (\n      <Spinner animation=\"border\" role=\"status\" />\n    );\n  };\n\n  return (\n    <>\n      <Head title={`${username}`} />\n      <Container>\n        <h2 id=\"posts\" className=\"h3 border-bottom mb-4 pb-4 text-primary\">\n          {username} posts\n        </h2>\n        <Row className=\"justify-content-center g-4\">{renderPosts()}</Row>\n      </Container>\n    </>\n  );\n};\n\nexport default Profile;\n","import axios from \"axios\";\nimport { useState } from \"react\";\nimport { Button, Container, Form, Row, Col } from \"react-bootstrap\";\n\nconst Register = () => {\n  const [usernameValid, setUsernameValid] = useState({\n    touched: false,\n    isValid: false,\n    msg: \"\",\n  });\n\n  const [emailValid, setEmailValid] = useState({\n    touched: false,\n    isValid: false,\n    msg: \"\",\n  });\n\n  const [passwordValid, setPasswordValid] = useState({\n    touched: false,\n    isValid: false,\n    msg: \"\",\n  });\n\n  const [error, setError] = useState({\n    isError: false,\n    msg: \"\",\n  });\n\n  const [isLoading, setisLoading] = useState(false);\n\n  const checkUsernameValidation = (e) => {\n    let val = e.target.value.trim();\n    let valids = { ...usernameValid };\n    valids.touched = true;\n    if (val.length <= 0) {\n      valids.isValid = false;\n      valids.msg = \"Username is required.\";\n    } else if (val.length < 4) {\n      valids.isValid = false;\n      valids.msg = \"Username must be more than 3 characters.\";\n    } else if (val.length > 100) {\n      valids.isValid = false;\n      valids.msg = \"Username must be less than 100 characters.\";\n    } else {\n      valids.isValid = true;\n      valids.msg = \"\";\n    }\n    setUsernameValid({ ...valids });\n  };\n\n  const validateEmail = (email) => {\n    var re = /\\S+@\\S+\\.\\S+/;\n    return re.test(email);\n  };\n\n  const checkEmailValidation = (e) => {\n    let val = e.target.value.trim();\n    let valids = { ...emailValid };\n    valids.touched = true;\n    if (val.length <= 0) {\n      valids.isValid = false;\n      valids.msg = \"Email is required.\";\n    } else if (!validateEmail(val)) {\n      valids.isValid = false;\n      valids.msg = \"Email is not valid\";\n    } else if (val.length > 100) {\n      valids.isValid = false;\n      valids.msg = \"Email must be less than 100 characters.\";\n    } else {\n      valids.isValid = true;\n      valids.msg = \"\";\n    }\n    setEmailValid({ ...valids });\n  };\n\n  const checkPasswordValidation = (e) => {\n    let val = e.target.value.trim();\n    let valids = { ...passwordValid };\n    valids.touched = true;\n    if (val.length <= 0) {\n      valids.isValid = false;\n      valids.msg = \"Password is required.\";\n    } else if (val.length < 4) {\n      valids.isValid = false;\n      valids.msg = \"Password must be more than 3 characters.\";\n    } else if (val.length > 255) {\n      valids.isValid = false;\n      valids.msg = \"Password must be less than 255 characters.\";\n    } else {\n      valids.isValid = true;\n      valids.msg = \"\";\n    }\n    setPasswordValid({ ...valids });\n  };\n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n\n    setisLoading(true);\n    setError({ isError: false, msg: \"\" });\n\n    let username = e.target.username.value,\n      email = e.target.email.value,\n      password = e.target.password.value;\n\n    try {\n      if (\n        usernameValid.isValid &&\n        emailValid.isValid &&\n        passwordValid.isValid\n      ) {\n        let res = await axios.post(\"/api/v1/users\", {\n          username,\n          email,\n          password,\n        });\n        if (res.data) {\n          window.location.replace(\"/app/login\");\n          setisLoading(false);\n        }\n      }\n    } catch (err) {\n      setisLoading(false);\n      if (err.response.status === 409) {\n        setError({ isError: true, msg: \"Email is already used\" });\n      } else {\n        setError({ isError: true, msg: \"Somthing went wrong!\" });\n      }\n    }\n  };\n\n  const usernameStyle = () => {\n    if (usernameValid.touched) {\n      if (usernameValid.isValid) {\n        return \"border border-success\";\n      } else return \"border border-danger\";\n    }\n  };\n\n  const emailStyle = () => {\n    if (emailValid.touched) {\n      if (emailValid.isValid) {\n        return \"border border-success\";\n      } else return \"border border-danger\";\n    }\n  };\n\n  const passwordStyle = () => {\n    if (passwordValid.touched) {\n      if (passwordValid.isValid) {\n        return \"border border-success\";\n      } else return \"border border-danger\";\n    }\n  };\n\n  return (\n    <Container>\n      <Row>\n        <Col md={6} lg={4} className=\" mx-auto bg-light p-4 my-4 shadow-sm\">\n          <h2 className=\" text-center h4 m-3 text-secondary\">Register</h2>\n          <Form onSubmit={submitHandler}>\n            <Form.Group className=\"mb-3\">\n              <Form.Label>Username</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Enter username\"\n                name=\"username\"\n                onBlur={checkUsernameValidation}\n                className={usernameStyle()}\n              />\n              {usernameValid.msg && (\n                <small className=\"text-danger p-1\">{usernameValid.msg}</small>\n              )}\n            </Form.Group>\n            <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput1\">\n              <Form.Label>Email address</Form.Label>\n              <Form.Control\n                type=\"email\"\n                placeholder=\"Enter email\"\n                name=\"email\"\n                onBlur={checkEmailValidation}\n                className={emailStyle()}\n              />\n              {emailValid.msg && (\n                <small className=\"text-danger p-1\">{emailValid.msg}</small>\n              )}\n            </Form.Group>\n            <Form.Group className=\"mb-3\" controlId=\"formPlaintextPassword1\">\n              <Form.Label>Password</Form.Label>\n              <Form.Control\n                type=\"password\"\n                placeholder=\"Enter password\"\n                name=\"password\"\n                onKeyUp={checkPasswordValidation}\n                className={passwordStyle()}\n              />\n              {passwordValid.msg && (\n                <small className=\"text-danger p-1\">{passwordValid.msg}</small>\n              )}\n            </Form.Group>\n            <Button\n              variant=\"primary\"\n              type=\"submit\"\n              className=\"w-100\"\n              disabled={\n                !usernameValid.isValid ||\n                !emailValid.isValid ||\n                !passwordValid.isValid\n              }\n            >\n              {isLoading ? \"Loading ...\" : \"Register\"}\n            </Button>\n            {error.isError && (\n              <div className=\"alert alert-danger text-center my-2\">\n                {error.msg}\n              </div>\n            )}\n          </Form>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default Register;\n","import axios from \"axios\";\nimport jwt_decode from \"jwt-decode\";\nimport { Link } from \"react-router-dom\";\nimport Post from \"../components/blog/Post\";\nimport { Context } from \"../context/Context\";\nimport { useState, useEffect, useContext } from \"react\";\nimport { Button, Container, Form, Row, Col, Alert } from \"react-bootstrap\";\n\nconst EditProfile = () => {\n  const { user, dispatch } = useContext(Context);\n\n  const [username, setUsername] = useState(user.username);\n  const [email, setEmail] = useState(user.email);\n\n  const [usernameValid, setUsernameValid] = useState({\n    touched: false,\n    isValid: true,\n    msg: \"\",\n  });\n\n  const [emailValid, setEmailValid] = useState({\n    touched: false,\n    isValid: true,\n    msg: \"\",\n  });\n\n  const [posts, setPosts] = useState([]);\n  const [isLoading, setisLoading] = useState(false);\n  const [updateForm, setUpdateForm] = useState(false);\n  const [deleteSuccess, setDeleteSuccess] = useState(false);\n  const [updateSuccess, setupdateSuccess] = useState(false);\n\n  const [showAlert, setShowAlert] = useState({\n    isError: false,\n    isSuccess: false,\n  });\n\n  const [error, setError] = useState({\n    isError: false,\n    msg: \"\",\n  });\n\n  useEffect(() => {\n    const fetchPosts = async () => {\n      try {\n        const res = await axios.get(`/api/v1/posts?userId=${user._id}`);\n        setPosts(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchPosts();\n  }, [deleteSuccess, user._id]);\n\n  const refreshToken = async () => {\n    try {\n      const res = await axios.post(\"/api/v1/users/refresh-token\", {\n        token: user.refreshToken,\n      });\n      dispatch({\n        type: \"LOGIN_SUCCESS\",\n        payload: { ...user, accessToken: res.data.accessToken },\n      });\n      return res.data;\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const axiosJWT = axios.create();\n  //This will run before every axios request to refresh token\n  const decodedToken = jwt_decode(user.accessToken);\n  axiosJWT.interceptors.request.use(\n    async (config) => {\n      let currentDate = new Date();\n      if (decodedToken.exp * 1000 < currentDate.getTime()) {\n        const data = await refreshToken();\n        config.headers[\"auth-token\"] = data.accessToken;\n      }\n      return config;\n    },\n    (err) => {\n      return Promise.reject(err);\n    }\n  );\n\n  const onDelete = async (post) => {\n    try {\n      let res = await axiosJWT.delete(`/api/v1/posts/${post._id}`, {\n        headers: {\n          \"auth-token\": user.accessToken,\n        },\n      });\n      if (res) {\n        setDeleteSuccess(!deleteSuccess);\n        setShowAlert({ isError: false, isSuccess: true });\n      }\n    } catch (err) {\n      console.log(err);\n      setShowAlert({ isError: true, isSuccess: false });\n    }\n  };\n  const checkUsernameValidation = (e) => {\n    let val = e.target.value;\n    setUsername(val);\n    let valids = { ...usernameValid };\n    valids.touched = true;\n    if (val.length <= 0) {\n      valids.isValid = false;\n      valids.msg = \"Username is required.\";\n    } else if (val.length < 4) {\n      valids.isValid = false;\n      valids.msg = \"Username must be more than 3 characters.\";\n    } else if (val.length > 100) {\n      valids.isValid = false;\n      valids.msg = \"Username must be less than 100 characters.\";\n    } else {\n      valids.isValid = true;\n      valids.msg = \"\";\n    }\n    setUsernameValid({ ...valids });\n  };\n\n  const validateEmail = (email) => {\n    var re = /\\S+@\\S+\\.\\S+/;\n    return re.test(email);\n  };\n\n  const checkEmailValidation = (e) => {\n    let val = e.target.value;\n    setEmail(val);\n    let valids = { ...emailValid };\n    valids.touched = true;\n    if (val.length <= 0) {\n      valids.isValid = false;\n      valids.msg = \"Email is required.\";\n    } else if (!validateEmail(val)) {\n      valids.isValid = false;\n      valids.msg = \"Email is not valid\";\n    } else if (val.length > 100) {\n      valids.isValid = false;\n      valids.msg = \"Email must be less than 100 characters.\";\n    } else {\n      valids.isValid = true;\n      valids.msg = \"\";\n    }\n    setEmailValid({ ...valids });\n  };\n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n    try {\n      setisLoading(true);\n      setError({ isError: false, msg: \"\" });\n      if (usernameValid.isValid && emailValid.isValid) {\n        let res = await axiosJWT.put(\n          `/api/v1/users/${user._id}`,\n          { username, email },\n          { headers: { \"auth-token\": user.accessToken } }\n        );\n\n        if (res) {\n          dispatch({\n            type: \"LOGIN_SUCCESS\",\n            payload: {\n              ...user,\n              username: res.data.username,\n              email: res.data.email,\n            },\n          });\n          setisLoading(false);\n          setupdateSuccess(true);\n        }\n      }\n    } catch (err) {\n      setupdateSuccess(false);\n      setisLoading(false);\n      if (err.response.status === 409) {\n        setError({ isError: true, msg: \"Email is already used\" });\n      } else {\n        setError({ isError: true, msg: \"Somthing went wrong!\" });\n      }\n    }\n  };\n\n  const usernameStyle = () => {\n    if (usernameValid.touched) {\n      if (usernameValid.isValid) {\n        return \"border border-success\";\n      } else return \"border border-danger\";\n    }\n  };\n\n  const emailStyle = () => {\n    if (emailValid.touched) {\n      if (emailValid.isValid) {\n        return \"border border-success\";\n      } else return \"border border-danger\";\n    }\n  };\n\n  const renderPosts = () => {\n    return posts.length > 0 ? (\n      posts.map((post) => (\n        <Col md={6} lg={4} key={post._id}>\n          <Post post={post} userProfile={true} onDelete={onDelete} />\n        </Col>\n      ))\n    ) : (\n      // <Spinner animation=\"border\" role=\"status\" />\n      <h5 className=\"my-4\">\n        You do not have any posts, <Link to=\"/posts/add-post\">Write now</Link>\n      </h5>\n    );\n  };\n\n  return (\n    <Container>\n      {showAlert.isError && (\n        <Alert\n          variant=\"danger\"\n          onClose={() =>\n            setShowAlert({\n              isError: false,\n              isSuccess: false,\n            })\n          }\n          className=\"success-alert\"\n          dismissible\n        >\n          <Alert.Heading className=\"f-1\">Somthing went wrong!</Alert.Heading>\n        </Alert>\n      )}\n      {showAlert.isSuccess && (\n        <Alert\n          variant=\"success\"\n          onClose={() =>\n            setShowAlert({\n              isError: false,\n              isSuccess: false,\n            })\n          }\n          className=\"success-alert\"\n          dismissible\n        >\n          <Alert.Heading className=\"f-1\">\n            Post has been successfully deleted\n          </Alert.Heading>\n        </Alert>\n      )}\n\n      <Row>\n        <Col md={6} lg={4} className=\" mx-auto bg-light p-4 my-4 shadow-sm\">\n          {!updateForm && (\n            <div style={{ textAlign: \"center\" }}>\n              <Button\n                variant=\"primary\"\n                className=\"w-50\"\n                onClick={() => setUpdateForm(true)}\n              >\n                Update Profile\n              </Button>\n            </div>\n          )}\n          {updateForm && (\n            <Form onSubmit={submitHandler}>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>Username</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  placeholder=\"Enter username\"\n                  name=\"username\"\n                  value={username}\n                  onChange={checkUsernameValidation}\n                  className={usernameStyle()}\n                />\n                {usernameValid.msg && (\n                  <small className=\"text-danger p-1\">{usernameValid.msg}</small>\n                )}\n              </Form.Group>\n              <Form.Group\n                className=\"mb-3\"\n                controlId=\"exampleForm.ControlInput1\"\n              >\n                <Form.Label>Email address</Form.Label>\n                <Form.Control\n                  type=\"email\"\n                  placeholder=\"Enter email\"\n                  name=\"email\"\n                  value={email}\n                  onChange={checkEmailValidation}\n                  className={emailStyle()}\n                />\n                {emailValid.msg && (\n                  <small className=\"text-danger p-1\">{emailValid.msg}</small>\n                )}\n              </Form.Group>\n              <Button\n                variant=\"primary\"\n                type=\"submit\"\n                className=\"w-100\"\n                disabled={!usernameValid.isValid || !emailValid.isValid}\n              >\n                {isLoading ? \"Loading ...\" : \"Update\"}\n              </Button>\n              {updateSuccess && (\n                <div className=\"alert alert-success text-center my-2\">\n                  Update Successfully\n                </div>\n              )}\n              {error.isError && (\n                <div className=\"alert alert-danger text-center my-2\">\n                  {error.msg}\n                </div>\n              )}\n            </Form>\n          )}\n        </Col>\n      </Row>\n      <h2 id=\"posts\" className=\"h3 border-bottom mb-4 pb-4 text-primary\">\n        Your Posts\n      </h2>\n      <Row className=\"justify-content-center g-4\">{renderPosts()}</Row>\n    </Container>\n  );\n};\n\nexport default EditProfile;\n","import { Modal, Button } from \"react-bootstrap\";\n\nconst PostModal = ({ showModal, hideModal, modalData }) => {\n  return (\n    <Modal show={showModal} size=\"lg\" centered onHide={hideModal}>\n      <Modal.Header closeButton>\n        <Modal.Title id=\"contained-modal-title-vcenter\">\n          {modalData.title}\n        </Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <p>{modalData.body}</p>\n      </Modal.Body>\n      <Modal.Footer>\n        <Button onClick={hideModal}>Close</Button>\n      </Modal.Footer>\n    </Modal>\n  );\n};\n\nexport default PostModal;\n","import axios from \"axios\";\nimport Post from \"./Post\";\nimport PostModal from \"./PostModal\";\nimport { useState, useEffect } from \"react\";\nimport { Row, Col, Container, Spinner } from \"react-bootstrap\";\n\nconst Posts = () => {\n  const [posts, setPosts] = useState([]);\n  const [modalData, setModalData] = useState({});\n  const [showModal, setShowModal] = useState(false);\n\n  useEffect(() => {\n    const fetchPosts = async () => {\n      try {\n        const res = await axios.get(\"/api/v1/posts\");\n        res && setPosts(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchPosts();\n  }, []);\n\n  const showModalFun = (post) => {\n    setShowModal(true);\n    setModalData(post);\n  };\n\n  const hideModal = () => {\n    setShowModal(false);\n  };\n\n  return (\n    <Container>\n      <h2 id=\"posts\" className=\"h3 border-bottom mb-4 pb-4 text-primary\">\n        Posts\n      </h2>\n      <PostModal\n        showModal={showModal}\n        hideModal={hideModal}\n        modalData={modalData}\n      />\n      <Row className=\"justify-content-center g-4\">\n        {posts.length > 0 ? (\n          posts.map((post) => (\n            <Col md={6} lg={4} key={post._id}>\n              <Post post={post} onShow={() => showModalFun(post)} />\n            </Col>\n          ))\n        ) : (\n          <Spinner className=\"my-4\" animation=\"border\" role=\"status\" />\n        )}\n      </Row>\n    </Container>\n  );\n};\n\nexport default Posts;\n","import { useContext } from \"react\";\nimport Head from \"../components/blog/Head\";\nimport Posts from \"../components/blog/Posts\";\nimport { Context } from \"../context/Context\";\n\nconst Blog = () => {\n  const { user } = useContext(Context);\n\n  return (\n    <div>\n      <Head title={user && `Welcome ${user.username}, to our blog`} />\n      <Posts />\n    </div>\n  );\n};\n\nexport default Blog;\n","import React from \"react\";\nimport Head from \"./blog/Head\";\nclass NotFound extends React.Component {\n  componentDidMount() {\n    this.props.history.replace(\"/not-found\");\n  }\n  render() {\n    return (\n      <div>\n        <Head title=\"404 not found\" />\n      </div>\n    );\n  }\n}\n\nexport default NotFound;\n","import axios from \"axios\";\nimport { useContext } from \"react\";\nimport { Context } from \"../../context/Context\";\nimport { NavLink, Link } from \"react-router-dom\";\nimport { Nav, Navbar, Container } from \"react-bootstrap\";\n\nexport const Header = () => {\n  const { user, dispatch } = useContext(Context);\n\n  const handleLogout = async () => {\n    try {\n      let res = await axios.post(\"/api/v1/users/logout\", {\n        token: user.refreshToken,\n      });\n      if (res) {\n        dispatch({ type: \"LOGOUT\" });\n        window.location.replace(\"/app\");\n      }\n    } catch (err) {\n      window.location.replace(\"/app\");\n    }\n  };\n\n  return (\n    <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\" sticky=\"top\">\n      <Container>\n        <Navbar.Brand>\n          <Link className=\"white-link\" to={\"/\"}>\n            Mern Blog\n          </Link>\n        </Navbar.Brand>\n        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n        <Navbar.Collapse\n          id=\"responsive-navbar-nav\"\n          className=\"justify-content-end\"\n        >\n          <Nav className=\"\">\n            <NavLink className=\"nav-link\" exact to=\"/\">\n              home\n            </NavLink>\n            {!user ? (\n              <>\n                <NavLink className=\"nav-link\" to=\"/login\">\n                  login\n                </NavLink>\n                <NavLink className=\"nav-link\" to=\"/register\">\n                  register\n                </NavLink>\n              </>\n            ) : null}\n            {user ? (\n              <>\n                <NavLink className=\"nav-link\" to=\"/add-post\">\n                  write\n                </NavLink>\n                <NavLink className=\"nav-link\" to=\"/edit-profile\">\n                  profile\n                </NavLink>\n                <span\n                  className=\"nav-link\"\n                  style={{ cursor: \"pointer\" }}\n                  onClick={handleLogout}\n                >\n                  logout\n                </span>\n              </>\n            ) : null}\n            <NavLink className=\"nav-link\" to=\"/about\">\n              contact\n            </NavLink>\n          </Nav>\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  );\n};\n\nexport default Header;\n","const Footer = () => {\n  return (\n    <footer className=\"d-flex justify-content-center p-4 bg-light\">\n      <h4 className=\"lead text-secondary\"> &copy; 2021 Abdelrazek</h4>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import axios from \"axios\";\nimport jwt_decode from \"jwt-decode\";\nimport { useState, useContext } from \"react\";\nimport { Context } from \"../../context/Context\";\nimport { useParams, useLocation } from \"react-router\";\nimport { Button, Container, Form, Row, Col, Image } from \"react-bootstrap\";\n\nconst EditPost = () => {\n  const { user, dispatch } = useContext(Context);\n\n  const postId = useParams().id;\n  const location = useLocation();\n  const { postTitle, postBody, postImg } = location.state;\n\n  const [title, setTitle] = useState(postTitle);\n  const [body, setBody] = useState(postBody);\n  const [image, setImage] = useState(null);\n  const [isLoading, setisLoading] = useState(false);\n  const [addSuccess, setaddSuccess] = useState(false);\n\n  const [titleValid, setTitleValid] = useState({\n    touched: false,\n    isValid: true,\n    msg: \"\",\n  });\n\n  const [bodyValid, setBodyValid] = useState({\n    touched: false,\n    isValid: true,\n    msg: \"\",\n  });\n  const [error, setError] = useState({\n    isError: false,\n    msg: \"\",\n  });\n\n  const checkTitleValidation = (e) => {\n    let val = e.target.value;\n    setTitle(val);\n    let valids = { ...titleValid };\n    valids.touched = true;\n    if (val.length <= 0) {\n      valids.isValid = false;\n      valids.msg = \"Title is required.\";\n    } else if (val.length < 3) {\n      valids.isValid = false;\n      valids.msg = \"Title must be more than 2 characters.\";\n    } else if (val.length > 255) {\n      valids.isValid = false;\n      valids.msg = \"Title must be less than 255 characters.\";\n    } else {\n      valids.isValid = true;\n      valids.msg = \"\";\n    }\n    setTitleValid({ ...valids });\n  };\n\n  const checkBodyValidation = (e) => {\n    let val = e.target.value;\n    setBody(val);\n    let valids = { ...bodyValid };\n    valids.touched = true;\n    if (val.length <= 0) {\n      valids.isValid = false;\n      valids.msg = \"Body is required.\";\n    } else if (val.length < 5) {\n      valids.isValid = false;\n      valids.msg = \"Body must be more than 4 characters.\";\n    } else if (val.length > 10000) {\n      valids.isValid = false;\n      valids.msg = \"Body must be less than 10000 characters.\";\n    } else {\n      valids.isValid = true;\n      valids.msg = \"\";\n    }\n    setBodyValid({ ...valids });\n  };\n\n  const titleStyle = () => {\n    if (titleValid.touched) {\n      if (titleValid.isValid) {\n        return \"border border-success\";\n      } else return \"border border-danger\";\n    }\n  };\n\n  const bodyStyle = () => {\n    if (bodyValid.touched) {\n      if (bodyValid.isValid) {\n        return \"border border-success\";\n      } else return \"border border-danger\";\n    }\n  };\n\n  const refreshToken = async () => {\n    try {\n      const res = await axios.post(\"/api/v1/users/refresh-token\", {\n        token: user.refreshToken,\n      });\n      dispatch({\n        type: \"LOGIN_SUCCESS\",\n        payload: { ...user, accessToken: res.data.accessToken },\n      });\n      return res.data;\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const axiosJWT = axios.create();\n  //This will run before axios request to refresh token\n  axiosJWT.interceptors.request.use(\n    async (config) => {\n      let currentDate = new Date();\n      const decodedToken = jwt_decode(user.accessToken);\n      if (decodedToken.exp * 1000 < currentDate.getTime()) {\n        const data = await refreshToken();\n        config.headers[\"auth-token\"] = data.accessToken;\n      }\n      return config;\n    },\n    (err) => {\n      return Promise.reject(err);\n    }\n  );\n\n  const addPostHandler = async (e) => {\n    e.preventDefault();\n    try {\n      if (titleValid.isValid && bodyValid.isValid) {\n        let formData = new FormData();\n        formData.append(\"title\", title);\n        formData.append(\"body\", body);\n        image && formData.append(\"image\", image);\n        setisLoading(true);\n\n        let res = await axiosJWT({\n          method: \"put\",\n          url: `/api/v1/posts/${postId}`,\n          data: formData,\n          headers: {\n            \"auth-token\": user.accessToken,\n            \"Content-Type\": \"multipart/form-data\",\n          },\n        });\n\n        if (res.data) {\n          setisLoading(false);\n          setaddSuccess(true);\n        }\n      }\n    } catch (err) {\n      console.log(err);\n      setisLoading(false);\n      setaddSuccess(false);\n      if (err.response.status === 400) {\n        setError({ isError: true, msg: \"Invalid inputs\" });\n      } else {\n        setError({ isError: true, msg: \"Somthing went wrong!\" });\n      }\n    }\n  };\n\n  return (\n    <Container>\n      <Row>\n        <Col md={6} lg={4} className=\" mx-auto bg-light p-4 my-4 shadow-sm\">\n          <h2 className=\" text-center h4 m-3 text-secondary\">Update Post</h2>\n          <Form onSubmit={addPostHandler}>\n            <Form.Group className=\"mb-3\">\n              <Form.Label>Post title</Form.Label>\n              <Form.Control\n                type=\"text\"\n                value={title}\n                name=\"title\"\n                className={titleStyle()}\n                onChange={checkTitleValidation}\n              />\n              {titleValid.msg && (\n                <small className=\"text-danger p-1\">{titleValid.msg}</small>\n              )}\n            </Form.Group>\n            <Form.Group\n              className=\"mb-3\"\n              controlId=\"exampleForm.ControlTextarea1\"\n            >\n              <Form.Label>Post body</Form.Label>\n              <Form.Control\n                as=\"textarea\"\n                value={body}\n                rows={3}\n                name=\"body\"\n                className={bodyStyle()}\n                onChange={checkBodyValidation}\n              />\n              {bodyValid.msg && (\n                <small className=\"text-danger p-1\">{bodyValid.msg}</small>\n              )}\n            </Form.Group>\n            <Form.Group controlId=\"formFile\" className=\"mb-3\">\n              <Form.Label>Post image</Form.Label>\n              <div className=\"d-flex my-2 justify-content-center\">\n                <Col xs={6} md={4}>\n                  {image ? (\n                    <Image src={URL.createObjectURL(image)} thumbnail />\n                  ) : (\n                    <Image\n                      src={`https://azstorageabdelrazek.blob.core.windows.net/postimgs/${postImg}`}\n                      thumbnail\n                    />\n                  )}\n                </Col>\n              </div>\n              <Form.Control\n                type=\"file\"\n                name=\"image\"\n                accept=\"image/png, image/jpeg, image/jpg, image/JPG, image/svg, image/webp\"\n                onChange={(e) => setImage(e.target.files[0])}\n              />\n            </Form.Group>\n            <Button\n              variant=\"primary\"\n              type=\"submit\"\n              className=\"w-100\"\n              disabled={!titleValid.isValid || !bodyValid.isValid}\n            >\n              {isLoading ? \"Loading ...\" : \"Update Post\"}\n            </Button>\n          </Form>\n          {error.isError && (\n            <div className=\"alert alert-danger text-center my-2\">\n              {error.msg}\n            </div>\n          )}\n          {addSuccess && (\n            <div className=\"alert alert-success text-center my-2\">\n              Post Updated Successfully\n            </div>\n          )}\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default EditPost;\n","import axios from \"axios\";\nimport jwt_decode from \"jwt-decode\";\nimport { Context } from \"../../context/Context\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { useState, useEffect, useContext } from \"react\";\nimport defaultImg from \"../../assets/images/defaultImg.jpg\";\nimport {\n  Spinner,\n  Container,\n  Button,\n  Card,\n  ListGroup,\n  Alert,\n} from \"react-bootstrap\";\n\nconst PostDetails = (props) => {\n  const { user, dispatch } = useContext(Context);\n  const { id } = useParams();\n  const [post, setPost] = useState(null);\n  const [showAlert, setShowAlert] = useState({\n    isError: false,\n    isSuccess: false,\n  });\n\n  useEffect(() => {\n    const fetchPost = async () => {\n      const res = await axios.get(`/api/v1/posts/${id}`);\n      setPost(res.data);\n    };\n    fetchPost();\n  }, [id]);\n\n  const axiosJWT = axios.create();\n  if (user) {\n    const refreshToken = async () => {\n      try {\n        const res = await axios.post(\"/api/v1/users/refresh-token\", {\n          token: user.refreshToken,\n        });\n        dispatch({\n          type: \"LOGIN_SUCCESS\",\n          payload: { ...user, accessToken: res.data.accessToken },\n        });\n        return res.data;\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    //This will run before every axios request to refresh token\n    const decodedToken = jwt_decode(user.accessToken);\n    axiosJWT.interceptors.request.use(\n      async (config) => {\n        let currentDate = new Date();\n        if (decodedToken.exp * 1000 < currentDate.getTime()) {\n          const data = await refreshToken();\n          config.headers[\"auth-token\"] = data.accessToken;\n        }\n        return config;\n      },\n      (err) => {\n        return Promise.reject(err);\n      }\n    );\n  }\n  const onDelete = async (postId) => {\n    try {\n      let res = await axiosJWT.delete(`/api/v1/posts/${postId}`, {\n        headers: {\n          \"auth-token\": user.accessToken,\n        },\n      });\n      if (res) {\n        setShowAlert({ isError: false, isSuccess: true });\n        setTimeout(window.location.replace(\"/app\"), 3000);\n      }\n    } catch (err) {\n      setShowAlert({ isError: true, isSuccess: false });\n    }\n  };\n\n  return post ? (\n    <Container>\n      {showAlert.isError && (\n        <Alert\n          variant=\"danger\"\n          onClose={() =>\n            setShowAlert({\n              isError: false,\n              isSuccess: false,\n            })\n          }\n          className=\"success-alert\"\n          dismissible\n        >\n          <Alert.Heading className=\"f-1\">Somthing went wrong!</Alert.Heading>\n        </Alert>\n      )}\n      {showAlert.isSuccess && (\n        <Alert\n          variant=\"success\"\n          onClose={() =>\n            setShowAlert({\n              isError: false,\n              isSuccess: false,\n            })\n          }\n          className=\"success-alert\"\n          dismissible\n        >\n          <Alert.Heading className=\"f-1\">\n            Post has been successfully deleted\n          </Alert.Heading>\n        </Alert>\n      )}\n      <Card className=\"my-4\">\n        <div style={{ textAlign: \"center\" }}>\n          <Card.Img\n            className=\"w-50 my-2\"\n            src={\n              post.postImg\n                ? `https://azstorageabdelrazek.blob.core.windows.net/postimgs/${post.postImg}`\n                : defaultImg\n            }\n          />\n        </div>\n        <Card.Body>\n          <div className=\"px-1 text-center\">\n            <Card.Title>{post.title}</Card.Title>\n            <Card.Text className=\"first-letter\" style={{ lineHeight: 2 }}>\n              {post.body}\n            </Card.Text>\n          </div>\n          <ListGroup variant=\"flush\">\n            <ListGroup.Item>\n              {user && user._id === post.createdBy._id ? (\n                <Link className=\"username-link\" to=\"/edit-profile\">\n                  {post.createdBy ? post.createdBy.username : \"user\"}\n                </Link>\n              ) : (\n                <Link\n                  className=\"username-link\"\n                  to={{\n                    pathname: `/profile/${post.createdBy._id}`,\n                    state: {\n                      username: post.createdBy.username,\n                    },\n                  }}\n                >\n                  {post.createdBy ? post.createdBy.username : \"user\"}\n                </Link>\n              )}\n            </ListGroup.Item>\n            <ListGroup.Item>\n              {new Date(post.createdAt).toDateString()}\n            </ListGroup.Item>\n            {user && user._id === post.createdBy._id ? (\n              <ListGroup.Item>\n                <Link\n                  className=\"btn btn-primary\"\n                  to={{\n                    pathname: `/edit-post/${post._id}`,\n                    state: {\n                      postTitle: post.title,\n                      postBody: post.body,\n                      postImg: post.postImg,\n                    },\n                  }}\n                  style={{ marginRight: \"5px\" }}\n                >\n                  Edit Post\n                </Link>\n                <Button variant=\"danger\" onClick={() => onDelete(id)}>\n                  Delete Post\n                </Button>\n              </ListGroup.Item>\n            ) : null}\n          </ListGroup>\n        </Card.Body>\n      </Card>\n    </Container>\n  ) : (\n    <div className=\"d-flex justify-content-center m-4\">\n      <Spinner animation=\"border\" role=\"status\" />\n    </div>\n  );\n};\n\nexport default PostDetails;\n","import React, { Suspense, useContext } from \"react\";\nimport { Spinner } from \"react-bootstrap\";\nimport { Context } from \"./context/Context\";\nimport { BrowserRouter, Redirect, Route, Switch } from \"react-router-dom\";\n\n// Import views\nimport About from \"./views/About\";\nimport Login from \"./views/Login\";\nimport Profile from \"./views/Profile\";\nimport Register from \"./views/Register\";\nimport EditProfile from \"./views/EditProfile\";\n\n// Import components\nimport Blog from \"./views/Blog\";\nimport NotFound from \"./components/NotFound\";\nimport Header from \"./components/layout/Header\";\nimport Footer from \"./components/layout/Footer\";\nimport EditPost from \"./components/blog/EditPost\";\nimport PostDetails from \"./components/blog/PostDetails\";\n\n// Lazy Loading\nconst AddPost = React.lazy(() => import(\"./components/blog/AddPost\"));\n\nconst App = () => {\n  const { user } = useContext(Context);\n\n  return (\n    <>\n      {/* Using basename=\"/app\" to avoid server problems */}\n      <BrowserRouter basename=\"/app\">\n        <Header />\n        <Switch>\n          <Route path=\"/\" exact component={Blog} />\n          <Route path=\"/about\" component={About} />\n          <Route path=\"/login\" component={Login} />\n          <Route path=\"/register\" component={Register} />\n          <Route path=\"/profile/:id\" component={Profile} />\n          <Route path=\"/posts/:id\" component={PostDetails} />\n          {user ? (\n            <Route\n              path=\"/add-post\"\n              render={() => {\n                return (\n                  <Suspense\n                    fallback={<Spinner animation=\"border\" role=\"status\" />}\n                  >\n                    <AddPost />\n                  </Suspense>\n                );\n              }}\n            />\n          ) : (\n            <Redirect from=\"/add-post\" to=\"/login\" />\n          )}\n          {user && (\n            <>\n              <Route path=\"/edit-profile\" component={EditProfile} />\n              <Route path=\"/edit-post/:id\" component={EditPost} />\n            </>\n          )}\n          <Redirect from=\"/home\" to=\"/\" />\n          <Route component={NotFound} />\n          {/* Redirect \"from\" attribute is used only on switch */}\n        </Switch>\n        <Footer />\n      </BrowserRouter>\n    </>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./assets/styles/main.css\";\nimport App from \"./App\";\nimport { ContextProvider } from \"./context/Context\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <ContextProvider>\n      <App />\n    </ContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","const Reducer = (state, action) => {\n  switch (action.type) {\n    case \"LOGIN_START\":\n      return {\n        user: null,\n        isFetching: true,\n        error: false,\n      };\n    case \"LOGIN_SUCCESS\":\n      return { user: action.payload, isFetching: false, error: false };\n    case \"LOGIN_FAILURE\":\n      return { user: null, isFetching: false, error: true };\n    case \"LOGOUT\":\n      return { user: null, isFetching: false, error: false };\n    default:\n      return state;\n  }\n};\n\nexport default Reducer;\n","import { createContext, useReducer, useEffect } from \"react\";\nimport Reducer from \"./Reducer\";\n\nconst INITIAL_STATE = {\n  user: JSON.parse(localStorage.getItem(\"user\")) || null,\n  isFetching: false,\n  error: false,\n};\n\nexport const Context = createContext(INITIAL_STATE);\n\nexport const ContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(Reducer, INITIAL_STATE);\n\n  useEffect(() => {\n    localStorage.setItem(\"user\", JSON.stringify(state.user));\n  }, [state.user]);\n\n  return (\n    <Context.Provider\n      value={{\n        user: state.user,\n        isFetching: state.isFetching,\n        error: state.error,\n        dispatch,\n      }}\n    >\n      {children}\n    </Context.Provider>\n  );\n};\n"],"sourceRoot":""}