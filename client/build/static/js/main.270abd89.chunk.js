(this["webpackJsonphello-react"]=this["webpackJsonphello-react"]||[]).push([[0],{113:function(e,t,s){"use strict";s.r(t);var c=s(0),a=s.n(c),n=s(20),r=s.n(n),i=(s(82),s(2)),l=s(17),o=s(9),j=s(117),d=s(115),b=s(1),u=function(e){var t=e.title;return Object(b.jsx)("div",{className:"head d-flex justify-content-center align-items-center",children:Object(b.jsx)(d.a,{className:"d-flex justify-content-center",children:Object(b.jsx)("h1",{className:"text-white display-2 mx-3",children:t||"Welcome to Our Blog"})})})},h=s(22),m=s.n(h),O=s(33),x=s(6),p=s(46),f=s.n(p),g=s(124),v=s(125),y=s(116),N=s.p+"static/media/defaultImg.11e9da86.jpg",k=function(e){var t=e.post,s=e.onShow;return Object(b.jsxs)(g.a,{className:"mb-4",children:[Object(b.jsx)(l.b,{to:"/posts/".concat(t._id),children:Object(b.jsx)(g.a.Img,{variant:"top",src:t.postImg?"https://azstorageabdelrazek.blob.core.windows.net/postimgs/".concat(t.postImg):N})}),Object(b.jsxs)(g.a.Body,{children:[Object(b.jsxs)("div",{className:"px-1 text-center",children:[Object(b.jsx)(g.a.Title,{children:t.title}),Object(b.jsx)(g.a.Text,{children:function(){if(t.body.length<150)return t.body;var e=t.body.substr(0,150);return e=e.substr(0,Math.min(e.length,e.lastIndexOf(" "))),"".concat(e," . . .")}()})]}),Object(b.jsxs)(v.a,{variant:"flush",children:[Object(b.jsx)(v.a.Item,{children:new Date(t.createdAt).toDateString()}),Object(b.jsx)(v.a.Item,{children:Object(b.jsx)(l.b,{className:"username-link",to:"/profile",children:t.createdBy.username})}),Object(b.jsxs)(v.a.Item,{children:[Object(b.jsx)(l.b,{className:"btn btn-primary",style:{marginRight:"5px"},to:"/posts/".concat(t._id),children:"Open Post"}),Object(b.jsx)(y.a,{variant:"primary",onClick:function(){return s(t)},children:"Open Modal"})]})]})]})]})},w=s(120),S=function(e){var t=e.showModal,s=e.hideModal,c=e.modalData;return Object(b.jsxs)(w.a,{show:t,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:s,children:[Object(b.jsx)(w.a.Header,{closeButton:!0,children:Object(b.jsx)(w.a.Title,{id:"contained-modal-title-vcenter",children:"Post Details"})}),Object(b.jsxs)(w.a.Body,{children:[Object(b.jsx)("h4",{children:c.title}),Object(b.jsx)("p",{children:c.body})]}),Object(b.jsx)(w.a.Footer,{children:Object(b.jsx)(y.a,{onClick:s,children:"Close"})})]})},V=s(75),I=s(118),B=function(e){var t=e.posts,s=Object(c.useState)(!1),a=Object(x.a)(s,2),n=a[0],r=a[1],i=Object(c.useState)({}),l=Object(x.a)(i,2),o=l[0],u=l[1],h=function(e){r(!0),u(e)};return Object(b.jsxs)(d.a,{children:[Object(b.jsx)("h2",{id:"posts",className:"h3 border-bottom mb-4 pb-4 text-primary",children:"Posts"}),Object(b.jsx)(I.a,{className:"justify-content-center g-4",children:t.length>0?t.map((function(e){return Object(b.jsx)(V.a,{md:6,lg:4,children:Object(b.jsx)(k,{post:e,onShow:h})},e._id)})):Object(b.jsx)(j.a,{animation:"border",role:"status"})}),Object(b.jsx)(S,{showModal:n,hideModal:function(){r(!1)},modalData:o})]})},C=function(){var e=Object(c.useState)([]),t=Object(x.a)(e,2),s=t[0],a=t[1];return Object(c.useEffect)((function(){(function(){var e=Object(O.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/posts");case 2:t=e.sent,a(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(b.jsx)("div",{children:Object(b.jsx)(B,{posts:s})})},E=function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)(u,{}),Object(b.jsx)(C,{})]})},D=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u,{title:"About us"}),Object(b.jsx)("p",{children:"About page"})]})},M=s(119),z=function(e){var t=Object(o.g)().pathname.split("/")[2],s=Object(c.useState)(null),a=Object(x.a)(s,2),n=a[0],r=a[1];return Object(c.useEffect)((function(){(function(){var e=Object(O.a)(m.a.mark((function e(){var s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/posts/".concat(t));case 2:s=e.sent,r(s.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),n?Object(b.jsxs)(d.a,{className:"text-center",children:[Object(b.jsx)("h3",{children:n.title}),Object(b.jsx)(I.a,{className:"justify-content-center",children:Object(b.jsx)(V.a,{xs:6,md:6,children:Object(b.jsx)(M.a,{src:n.postImg?"https://azstorageabdelrazek.blob.core.windows.net/postimgs/".concat(n.postImg):N,fluid:!0})})}),Object(b.jsx)("p",{className:"m-4 col first-letter",children:n.body}),Object(b.jsxs)("h6",{children:["Author: ",n.createdBy.username]}),Object(b.jsxs)("h6",{children:["Created at: ",new Date(n.createdAt).toDateString()]})]}):Object(b.jsx)("div",{className:"d-flex justify-content-center m-4",children:Object(b.jsx)(j.a,{animation:"border",role:"status"})})},U=function(e){return Object(b.jsx)("div",{children:Object(b.jsx)(z,Object(i.a)({},e))})},A=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u,{title:"username"}),Object(b.jsx)(d.a,{children:Object(b.jsx)(I.a,{})}),Object(b.jsx)("p",{children:"username posts"}),Object(b.jsx)("span",{children:"in home page if user click on his post , he can edit, delete it"})]})},F=s(121),P=function(){var e=Object(c.useState)({touched:!1,isValid:!1,msg:""}),t=Object(x.a)(e,2),s=t[0],a=t[1],n=Object(c.useState)({touched:!1,isValid:!1,msg:""}),r=Object(x.a)(n,2),l=r[0],o=r[1],j=function(){var e=Object(O.a)(m.a.mark((function e(t){var c,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),c=t.target.username.value,a=t.target.email.value,s.isValid&&l.isValid&&console.log({username:c,email:a});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)(d.a,{children:[Object(b.jsx)(I.a,{children:Object(b.jsxs)(V.a,{md:6,lg:4,className:" mx-auto bg-light p-4 my-4 shadow-sm",children:[Object(b.jsx)("h2",{className:" text-center h4 m-3 text-secondary",children:"Update Profile"}),Object(b.jsxs)(F.a,{onSubmit:j,children:[Object(b.jsxs)(F.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(b.jsx)(F.a.Label,{children:"Username"}),Object(b.jsx)(F.a.Control,{type:"text",placeholder:"Enter username",name:"username",onBlur:function(e){var t=e.target.value.trim(),c=Object(i.a)({},s);c.touched=!0,t.length<=0?(c.isValid=!1,c.msg="Username is required."):t.length<4?(c.isValid=!1,c.msg="Username must be more than 3 characters."):t.length>100?(c.isValid=!1,c.msg="Username must be less than 100 characters."):(c.isValid=!0,c.msg=""),a(Object(i.a)({},c))},className:function(){if(s.touched)return s.isValid?"border border-success":"border border-danger"}()}),s.msg&&Object(b.jsx)("small",{className:"text-danger p-1",children:s.msg})]}),Object(b.jsxs)(F.a.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[Object(b.jsx)(F.a.Label,{children:"Email address"}),Object(b.jsx)(F.a.Control,{type:"email",placeholder:"Enter email",name:"email",onBlur:function(e){var t=e.target.value.trim(),s=Object(i.a)({},l);s.touched=!0,t.length<=0?(s.isValid=!1,s.msg="Email is required."):/\S+@\S+\.\S+/.test(t)?t.length>100?(s.isValid=!1,s.msg="Email must be less than 100 characters."):(s.isValid=!0,s.msg=""):(s.isValid=!1,s.msg="Email is not valid"),o(Object(i.a)({},s))},className:function(){if(l.touched)return l.isValid?"border border-success":"border border-danger"}()}),l.msg&&Object(b.jsx)("small",{className:"text-danger p-1",children:l.msg})]}),Object(b.jsx)(y.a,{variant:"primary",type:"submit",className:"w-100",disabled:!s.isValid||!l.isValid,children:"Update"})]})]})}),Object(b.jsx)("p",{children:"user posts"}),Object(b.jsx)("span",{children:"in home page if user click on his post , he can edit, delete it"})]})},T=s(123),_=s(122),q=function(){return Object(b.jsx)(T.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",sticky:"top",children:Object(b.jsxs)(d.a,{children:[Object(b.jsx)(T.a.Brand,{href:"#home",children:"Mern Blog"}),Object(b.jsx)(T.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(b.jsx)(T.a.Collapse,{id:"responsive-navbar-nav",className:"justify-content-end",children:Object(b.jsxs)(_.a,{className:"",children:[Object(b.jsx)(l.c,{className:"nav-link",exact:!0,to:"/",children:"home"}),Object(b.jsx)(l.c,{className:"nav-link",to:"/posts/add-post",children:"add post"}),Object(b.jsx)(l.c,{className:"nav-link",to:"/edit-profile",children:"profile"}),Object(b.jsx)(l.c,{className:"nav-link",to:"/about",children:"about"})]})})]})})},G=function(){return Object(b.jsx)("footer",{className:"d-flex justify-content-center p-4 bg-light",children:Object(b.jsx)("h4",{className:"lead text-secondary",children:"Copyright \xa9 2021"})})},H=s(36),J=s(37),L=s(55),R=s(53),W=function(e){Object(L.a)(s,e);var t=Object(R.a)(s);function s(){return Object(H.a)(this,s),t.apply(this,arguments)}return Object(J.a)(s,[{key:"componentDidMount",value:function(){this.props.history.replace("/not-found")}},{key:"render",value:function(){return Object(b.jsx)("div",{children:Object(b.jsx)(u,{title:"404 not found"})})}}]),s}(a.a.Component),K=a.a.lazy((function(){return s.e(3).then(s.bind(null,126))})),Q=function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(l.a,{basename:"/app",children:[Object(b.jsx)(q,{}),Object(b.jsxs)(o.d,{children:[Object(b.jsx)(o.b,{path:"/",exact:!0,component:E}),Object(b.jsx)(o.b,{path:"/about",component:D}),Object(b.jsx)(o.b,{path:"/edit-profile",component:P}),Object(b.jsx)(o.b,{path:"/profile",component:A}),Object(b.jsx)(o.b,{path:"/posts/add-post",render:function(e){return Object(b.jsx)(c.Suspense,{fallback:Object(b.jsx)(j.a,{animation:"border",role:"status"}),children:Object(b.jsx)(K,Object(i.a)({},e))})}}),Object(b.jsx)(o.b,{path:"/posts/:id",component:U}),Object(b.jsx)(o.a,{from:"/home",to:"/"}),Object(b.jsx)(o.b,{component:W})]}),Object(b.jsx)(G,{})]})})};r.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(Q,{})}),document.getElementById("root"))},82:function(e,t,s){}},[[113,1,2]]]);
//# sourceMappingURL=main.270abd89.chunk.js.map