{"version":3,"sources":["assets/images/defaultImg.jpg","components/blog/Post.js","components/blog/PostModal.js","components/blog/Posts.js","views/Blog.js","components/blog/Head.js","views/Land.js","views/About.js","views/Login.js","views/Profile.js","views/Register.js","components/blog/PostDetails.js","views/PostView.js","views/EditProfile.js","components/blog/EditPost.js","components/layout/Header.js","components/layout/Footer.js","components/NotFound.js","App.js","index.js","context/Reducer.js","context/Context.js"],"names":["Post","post","onShow","userProfile","onDelete","user","useContext","Context","Card","className","to","_id","Img","variant","src","postImg","defaultImg","Body","Title","title","Text","body","length","trimmedString","substr","Math","min","lastIndexOf","cutString","ListGroup","Item","createdBy","username","pathname","state","Date","createdAt","toDateString","style","marginRight","Button","onClick","postTitle","postBody","PostModal","showModal","hideModal","modalData","Modal","show","size","centered","onHide","Header","closeButton","id","Footer","Posts","posts","useState","setShowModal","setModalData","Container","Row","map","Col","md","lg","showModalFun","Spinner","animation","role","Blog","setPosts","useEffect","a","axios","get","res","data","console","log","fetchPosts","Head","Land","About","class","target","rel","color","href","fontSize","cursor","Login","touched","isValid","msg","emailValid","setEmailValid","passwordValid","setPasswordValid","dispatch","isFetching","error","submitHandler","e","preventDefault","type","email","value","password","payload","window","location","replace","Form","onSubmit","Group","controlId","Label","Control","placeholder","name","onBlur","val","trim","valids","test","emailStyle","onKeyUp","passwordStyle","disabled","Profile","useLocation","useParams","Register","usernameValid","setUsernameValid","isError","setError","isLoading","setisLoading","response","status","usernameStyle","PostDetails","props","setPost","isSuccess","showAlert","setShowAlert","fetchPost","axiosJWT","create","refreshToken","token","accessToken","decodedToken","jwt_decode","interceptors","request","use","config","currentDate","exp","getTime","headers","err","Promise","reject","postId","delete","setTimeout","Alert","onClose","dismissible","Heading","textAlign","lineHeight","PostView","EditProfile","setUsername","setEmail","deleteSuccess","setDeleteSuccess","updateForm","setUpdateForm","updateSuccess","setupdateSuccess","put","onChange","validateEmail","EditPost","titleValid","setTitleValid","bodyValid","setBodyValid","setTitle","setBody","image","setImage","addSuccess","setaddSuccess","addPostHandler","formData","FormData","append","method","url","titleStyle","as","rows","bodyStyle","xs","Image","URL","createObjectURL","thumbnail","accept","files","handleLogout","Navbar","collapseOnSelect","expand","bg","sticky","Brand","Toggle","Collapse","Nav","exact","NotFound","this","history","React","Component","AddPost","lazy","App","basename","path","component","render","fallback","from","ReactDOM","StrictMode","document","getElementById","Reducer","action","INITIAL_STATE","JSON","parse","localStorage","getItem","createContext","ContextProvider","children","useReducer","setItem","stringify","Provider"],"mappings":"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","file":"static/js/main.511f6d38.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/defaultImg.11e9da86.jpg\";","import { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Card, Button, ListGroup } from \"react-bootstrap\";\nimport defaultImg from \"../../assets/images/defaultImg.jpg\";\nimport { Context } from \"../../context/Context\";\n\nconst Post = ({ post, onShow, userProfile, onDelete }) => {\n  const { user } = useContext(Context);\n\n  // Cut post body\n  const cutString = () => {\n    if (post.body.length < 150) return post.body;\n    let trimmedString = post.body.substr(0, 150);\n    trimmedString = trimmedString.substr(\n      0,\n      Math.min(trimmedString.length, trimmedString.lastIndexOf(\" \"))\n    );\n    return `${trimmedString} . . .`;\n  };\n\n  return (\n    <Card className=\"mb-4 mx-4 mx-lg-0\">\n      <Link to={`/posts/${post._id}`}>\n        <Card.Img\n          variant=\"top\"\n          src={\n            post.postImg\n              ? `https://azstorageabdelrazek.blob.core.windows.net/postimgs/${post.postImg}`\n              : defaultImg\n          }\n        />\n      </Link>\n      <Card.Body>\n        <div className=\"px-1 text-center\">\n          <Card.Title>{post.title}</Card.Title>\n          <Card.Text>{cutString()}</Card.Text>\n        </div>\n        <ListGroup variant=\"flush\">\n          <ListGroup.Item>\n            {user && user._id === post.createdBy._id ? (\n              <Link className=\"username-link\" to=\"/edit-profile\">\n                {post.createdBy ? post.createdBy.username : \"user\"}\n              </Link>\n            ) : (\n              <Link\n                className=\"username-link\"\n                to={{\n                  pathname: `/profile/${post.createdBy._id}`,\n                  state: {\n                    username: post.createdBy.username,\n                  },\n                }}\n              >\n                {post.createdBy ? post.createdBy.username : \"user\"}\n              </Link>\n            )}\n          </ListGroup.Item>\n          <ListGroup.Item>\n            {new Date(post.createdAt).toDateString()}\n          </ListGroup.Item>\n          <ListGroup.Item>\n            <Link\n              className=\"btn btn-primary\"\n              style={{ marginRight: \"5px\" }}\n              to={`/posts/${post._id}`}\n            >\n              Open Post\n            </Link>\n            {!userProfile && (\n              <Button variant=\"primary\" onClick={() => onShow(post)}>\n                Open Modal\n              </Button>\n            )}\n            {userProfile && (\n              <>\n                <Link\n                  className=\"btn btn-primary\"\n                  to={{\n                    pathname: `/edit-post/${post._id}`,\n                    state: {\n                      postTitle: post.title,\n                      postBody: post.body,\n                      postImg: post.postImg,\n                    },\n                  }}\n                  style={{ marginRight: \"5px\" }}\n                >\n                  Edit Post\n                </Link>\n                <Button variant=\"danger\" onClick={() => onDelete(post)}>\n                  Delete Post\n                </Button>\n              </>\n            )}\n          </ListGroup.Item>\n        </ListGroup>\n      </Card.Body>\n    </Card>\n  );\n};\n\nexport default Post;\n","import { Modal, Button } from \"react-bootstrap\";\n\nconst PostModal = ({ showModal, hideModal, modalData }) => {\n  return (\n    <Modal show={showModal} size=\"lg\" centered onHide={hideModal}>\n      <Modal.Header closeButton>\n        <Modal.Title id=\"contained-modal-title-vcenter\">\n          {modalData.title}\n        </Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <p>{modalData.body}</p>\n      </Modal.Body>\n      <Modal.Footer>\n        <Button onClick={hideModal}>Close</Button>\n      </Modal.Footer>\n    </Modal>\n  );\n};\n\nexport default PostModal;\n","import { useState } from \"react\";\nimport Post from \"./Post\";\nimport PostModal from \"./PostModal\";\nimport { Row, Col, Container, Spinner } from \"react-bootstrap\";\n\nconst Posts = ({ posts }) => {\n  const [showModal, setShowModal] = useState(false);\n  const [modalData, setModalData] = useState({});\n\n  const showModalFun = (post) => {\n    setShowModal(true);\n    setModalData(post);\n  };\n\n  const hideModal = () => {\n    setShowModal(false);\n  };\n\n  const renderPosts = () => {\n    return posts && posts.length > 0 ? (\n      posts.map((post) => (\n        <Col md={6} lg={4} key={post._id}>\n          <Post post={post} onShow={() => showModalFun(post)} />\n        </Col>\n      ))\n    ) : (\n      <Spinner animation=\"border\" role=\"status\" />\n    );\n  };\n\n  return (\n    <Container>\n      <h2 id=\"posts\" className=\"h3 border-bottom mb-4 pb-4 text-primary\">\n        Posts\n      </h2>\n      <PostModal\n        showModal={showModal}\n        hideModal={hideModal}\n        modalData={modalData}\n      />\n      <Row className=\"justify-content-center g-4\">{renderPosts()}</Row>\n    </Container>\n  );\n};\n\nexport default Posts;\n","import axios from \"axios\";\nimport { useState, useEffect } from \"react\";\nimport Posts from \"../components/blog/Posts\";\n\nconst Blog = () => {\n  const [posts, setPosts] = useState([]);\n\n  useEffect(() => {\n    const fetchPosts = async () => {\n      try {\n        const res = await axios.get(\"/posts\");\n        setPosts(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchPosts();\n  }, []);\n\n  return (\n    <div>\n      <Posts posts={posts} />\n    </div>\n  );\n};\n\nexport default Blog;\n","import { Container } from \"react-bootstrap\";\n\nconst Head = ({ title }) => {\n  return (\n    <div className=\"head d-flex justify-content-center align-items-center\">\n      <Container className=\"d-flex justify-content-center\">\n        <h1 className=\"text-white display-2 mx-3\">\n          {title ? title : \"Welcome to Our Blog\"}\n        </h1>\n      </Container>\n    </div>\n  );\n};\n\nexport default Head;\n","import Blog from \"../views/Blog\";\nimport { useContext } from \"react\";\nimport Head from \"../components/blog/Head\";\nimport { Context } from \"../context/Context\";\n\nconst Land = () => {\n  const { user } = useContext(Context);\n\n  return (\n    <div>\n      <Head title={user && `Welcome ${user.username}, to our blog`} />\n      <Blog />\n    </div>\n  );\n};\n\nexport default Land;\n","import Head from \"../components/blog/Head\";\nimport {\n  FaFacebook,\n  FaGithub,\n  FaLinkedin,\n  FaRegEnvelope,\n  FaWhatsapp,\n} from \"react-icons/fa\";\n\nconst About = () => {\n  return (\n    <>\n      <Head title=\"Contact Me\" />\n      <div class=\"features text-center\">\n        <div class=\"container\">\n          <div class=\"row\">\n            <a\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              style={{ color: \"#2867B2\" }}\n              class=\"col hover-opacity\"\n              href=\"https://www.linkedin.com/in/abdelrazek-ali/\"\n            >\n              <FaLinkedin\n                style={{\n                  fontSize: \"3rem\",\n                  cursor: \"pointer\",\n                }}\n                className=\"my-2\"\n              />\n              <h4 className=\"mb-5\">LinkedIn</h4>\n            </a>\n            <a\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              style={{ color: \"#161b22\" }}\n              class=\"col hover-opacity\"\n              href=\"https://github.com/abdelrazekAli\"\n            >\n              <FaGithub\n                style={{\n                  fontSize: \"3rem\",\n                  cursor: \"pointer\",\n                }}\n                className=\"my-2\"\n              />\n              <h4>Github</h4>\n            </a>\n            <a\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              style={{ color: \"#ec4636\" }}\n              class=\"col hover-opacity\"\n              href=\"mailto:dev.abdelrazek@gmail.com?subject=contact\"\n            >\n              <FaRegEnvelope\n                style={{\n                  fontSize: \"3rem\",\n                  cursor: \"pointer\",\n                }}\n                className=\"my-2\"\n              />\n              <h4>Gmail</h4>\n            </a>\n            <a\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              style={{ color: \"#4267B2\" }}\n              class=\"col hover-opacity\"\n              href=\"https://www.facebook.com/dev.abdelrazek/\"\n            >\n              <FaFacebook\n                style={{\n                  fontSize: \"3rem\",\n                  cursor: \"pointer\",\n                }}\n                className=\"my-2\"\n              />\n              <h4>Facebook</h4>\n            </a>\n            <a\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              style={{ color: \"#25D366\" }}\n              class=\"col hover-opacity\"\n              href=\"https://api.whatsapp.com/send?phone=+201155596710\"\n            >\n              <FaWhatsapp\n                style={{\n                  fontSize: \"3rem\",\n                  cursor: \"pointer\",\n                }}\n                className=\"my-2\"\n              />\n              <h4>Whatsapp</h4>\n            </a>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default About;\n","import axios from \"axios\";\nimport { useContext, useState } from \"react\";\nimport { Context } from \"../context/Context\";\nimport { Button, Container, Form, Row, Col } from \"react-bootstrap\";\n\nconst Login = () => {\n  const [emailValid, setEmailValid] = useState({\n    touched: false,\n    isValid: false,\n    msg: \"\",\n  });\n\n  const [passwordValid, setPasswordValid] = useState({\n    touched: false,\n    isValid: false,\n    msg: \"\",\n  });\n\n  const { dispatch, isFetching, error } = useContext(Context);\n\n  const validateEmail = (email) => {\n    var re = /\\S+@\\S+\\.\\S+/;\n    return re.test(email);\n  };\n\n  const checkEmailValidation = (e) => {\n    let val = e.target.value.trim();\n    let valids = { ...emailValid };\n    valids.touched = true;\n    if (val.length <= 0) {\n      valids.isValid = false;\n      valids.msg = \"Email is required.\";\n    } else if (!validateEmail(val)) {\n      valids.isValid = false;\n      valids.msg = \"Email is not valid\";\n    } else if (val.length > 100) {\n      valids.isValid = false;\n      valids.msg = \"Email must be less than 100 characters.\";\n    } else {\n      valids.isValid = true;\n      valids.msg = \"\";\n    }\n    setEmailValid({ ...valids });\n  };\n\n  const checkPasswordValidation = (e) => {\n    let val = e.target.value.trim();\n    let valids = { ...passwordValid };\n    valids.touched = true;\n    if (val.length <= 0) {\n      valids.isValid = false;\n      valids.msg = \"Password is required.\";\n    } else if (val.length < 4) {\n      valids.isValid = false;\n      valids.msg = \"Password must be more than 3 characters.\";\n    } else if (val.length > 255) {\n      valids.isValid = false;\n      valids.msg = \"Password must be less than 255 characters.\";\n    } else {\n      valids.isValid = true;\n      valids.msg = \"\";\n    }\n    setPasswordValid({ ...valids });\n  };\n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n    dispatch({ type: \"LOGIN_START\" });\n    let email = e.target.email.value,\n      password = e.target.password.value;\n    try {\n      if (emailValid.isValid && passwordValid.isValid) {\n        let res = await axios.post(\"/users/login\", { email, password });\n        dispatch({ type: \"LOGIN_SUCCESS\", payload: res.data });\n        window.location.replace(\"/app\");\n      }\n    } catch (err) {\n      dispatch({ type: \"LOGIN_FAILURE\" });\n      console.log(err);\n    }\n  };\n\n  const emailStyle = () => {\n    if (emailValid.touched) {\n      if (emailValid.isValid) {\n        return \"border border-success\";\n      } else return \"border border-danger\";\n    }\n  };\n\n  const passwordStyle = () => {\n    if (passwordValid.touched) {\n      if (passwordValid.isValid) {\n        return \"border border-success\";\n      } else return \"border border-danger\";\n    }\n  };\n\n  return (\n    <Container>\n      <Row>\n        <Col md={6} lg={4} className=\" mx-auto bg-light p-4 my-4 shadow-sm\">\n          <h2 className=\" text-center h4 m-3 text-secondary\">Login</h2>\n          <Form onSubmit={submitHandler}>\n            <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput1\">\n              <Form.Label>Email address</Form.Label>\n              <Form.Control\n                type=\"email\"\n                placeholder=\"Enter email\"\n                name=\"email\"\n                onBlur={checkEmailValidation}\n                className={emailStyle()}\n              />\n              {emailValid.msg && (\n                <small className=\"text-danger p-1\">{emailValid.msg}</small>\n              )}\n            </Form.Group>\n            <Form.Group className=\"mb-3\" controlId=\"formPlaintextPassword\">\n              <Form.Label>Password</Form.Label>\n              <Form.Control\n                type=\"password\"\n                placeholder=\"Enter password\"\n                name=\"password\"\n                onKeyUp={checkPasswordValidation}\n                className={passwordStyle()}\n              />\n              {passwordValid.msg && (\n                <small className=\"text-danger p-1\">{passwordValid.msg}</small>\n              )}\n            </Form.Group>\n            <Button\n              variant=\"primary\"\n              type=\"submit\"\n              className=\"w-100\"\n              disabled={!emailValid.isValid || !passwordValid.isValid}\n            >\n              {isFetching ? \"Loading ...\" : \"Login\"}\n            </Button>\n            {error && (\n              <div className=\"alert alert-danger text-center my-2\">\n                Invalid email or password\n              </div>\n            )}\n          </Form>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default Login;\n","import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Head from \"../components/blog/Head\";\nimport Post from \"../components/blog/Post\";\nimport { useLocation, useParams } from \"react-router-dom\";\nimport { Container, Row, Spinner, Col } from \"react-bootstrap\";\n\nconst Profile = () => {\n  const [posts, setPosts] = useState([]);\n\n  const location = useLocation();\n  const { id } = useParams();\n  const { username } = location.state;\n\n  useEffect(() => {\n    const fetchPosts = async () => {\n      try {\n        const res = await axios.get(`/posts?userId=${id}`);\n        setPosts(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchPosts();\n  }, [id]);\n\n  const renderPosts = () => {\n    return posts.length > 0 ? (\n      posts.map((post) => (\n        <Col md={6} lg={4} key={post._id}>\n          <Post post={post} />\n        </Col>\n      ))\n    ) : (\n      <Spinner animation=\"border\" role=\"status\" />\n    );\n  };\n\n  return (\n    <>\n      <Head title={`${username}`} />\n      <Container>\n        <h2 id=\"posts\" className=\"h3 border-bottom mb-4 pb-4 text-primary\">\n          {username} posts\n        </h2>\n        <Row className=\"justify-content-center g-4\">{renderPosts()}</Row>\n      </Container>\n    </>\n  );\n};\n\nexport default Profile;\n","import { useState } from \"react\";\nimport { Button, Container, Form, Row, Col } from \"react-bootstrap\";\nimport axios from \"axios\";\n\nconst Register = () => {\n  const [usernameValid, setUsernameValid] = useState({\n    touched: false,\n    isValid: false,\n    msg: \"\",\n  });\n\n  const [emailValid, setEmailValid] = useState({\n    touched: false,\n    isValid: false,\n    msg: \"\",\n  });\n\n  const [passwordValid, setPasswordValid] = useState({\n    touched: false,\n    isValid: false,\n    msg: \"\",\n  });\n\n  const [error, setError] = useState({\n    isError: false,\n    msg: \"\",\n  });\n\n  const [isLoading, setisLoading] = useState(false);\n\n  const checkUsernameValidation = (e) => {\n    let val = e.target.value.trim();\n    let valids = { ...usernameValid };\n    valids.touched = true;\n    if (val.length <= 0) {\n      valids.isValid = false;\n      valids.msg = \"Username is required.\";\n    } else if (val.length < 4) {\n      valids.isValid = false;\n      valids.msg = \"Username must be more than 3 characters.\";\n    } else if (val.length > 100) {\n      valids.isValid = false;\n      valids.msg = \"Username must be less than 100 characters.\";\n    } else {\n      valids.isValid = true;\n      valids.msg = \"\";\n    }\n    setUsernameValid({ ...valids });\n  };\n\n  const validateEmail = (email) => {\n    var re = /\\S+@\\S+\\.\\S+/;\n    return re.test(email);\n  };\n\n  const checkEmailValidation = (e) => {\n    let val = e.target.value.trim();\n    let valids = { ...emailValid };\n    valids.touched = true;\n    if (val.length <= 0) {\n      valids.isValid = false;\n      valids.msg = \"Email is required.\";\n    } else if (!validateEmail(val)) {\n      valids.isValid = false;\n      valids.msg = \"Email is not valid\";\n    } else if (val.length > 100) {\n      valids.isValid = false;\n      valids.msg = \"Email must be less than 100 characters.\";\n    } else {\n      valids.isValid = true;\n      valids.msg = \"\";\n    }\n    setEmailValid({ ...valids });\n  };\n\n  const checkPasswordValidation = (e) => {\n    let val = e.target.value.trim();\n    let valids = { ...passwordValid };\n    valids.touched = true;\n    if (val.length <= 0) {\n      valids.isValid = false;\n      valids.msg = \"Password is required.\";\n    } else if (val.length < 4) {\n      valids.isValid = false;\n      valids.msg = \"Password must be more than 3 characters.\";\n    } else if (val.length > 255) {\n      valids.isValid = false;\n      valids.msg = \"Password must be less than 255 characters.\";\n    } else {\n      valids.isValid = true;\n      valids.msg = \"\";\n    }\n    setPasswordValid({ ...valids });\n  };\n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n\n    setisLoading(true);\n    setError({ isError: false, msg: \"\" });\n\n    let username = e.target.username.value,\n      email = e.target.email.value,\n      password = e.target.password.value;\n\n    try {\n      if (\n        usernameValid.isValid &&\n        emailValid.isValid &&\n        passwordValid.isValid\n      ) {\n        let res = await axios.post(\"/users\", { username, email, password });\n        if (res.data) {\n          window.location.replace(\"/app/login\");\n          setisLoading(false);\n        }\n      }\n    } catch (err) {\n      setisLoading(false);\n      if (err.response.status === 409) {\n        setError({ isError: true, msg: \"Email is already used\" });\n      } else {\n        setError({ isError: true, msg: \"Somthing went wrong!\" });\n      }\n    }\n  };\n\n  const usernameStyle = () => {\n    if (usernameValid.touched) {\n      if (usernameValid.isValid) {\n        return \"border border-success\";\n      } else return \"border border-danger\";\n    }\n  };\n\n  const emailStyle = () => {\n    if (emailValid.touched) {\n      if (emailValid.isValid) {\n        return \"border border-success\";\n      } else return \"border border-danger\";\n    }\n  };\n\n  const passwordStyle = () => {\n    if (passwordValid.touched) {\n      if (passwordValid.isValid) {\n        return \"border border-success\";\n      } else return \"border border-danger\";\n    }\n  };\n\n  return (\n    <Container>\n      <Row>\n        <Col md={6} lg={4} className=\" mx-auto bg-light p-4 my-4 shadow-sm\">\n          <h2 className=\" text-center h4 m-3 text-secondary\">Register</h2>\n          <Form onSubmit={submitHandler}>\n            <Form.Group className=\"mb-3\">\n              <Form.Label>Username</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Enter username\"\n                name=\"username\"\n                onBlur={checkUsernameValidation}\n                className={usernameStyle()}\n              />\n              {usernameValid.msg && (\n                <small className=\"text-danger p-1\">{usernameValid.msg}</small>\n              )}\n            </Form.Group>\n            <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput1\">\n              <Form.Label>Email address</Form.Label>\n              <Form.Control\n                type=\"email\"\n                placeholder=\"Enter email\"\n                name=\"email\"\n                onBlur={checkEmailValidation}\n                className={emailStyle()}\n              />\n              {emailValid.msg && (\n                <small className=\"text-danger p-1\">{emailValid.msg}</small>\n              )}\n            </Form.Group>\n            <Form.Group className=\"mb-3\" controlId=\"formPlaintextPassword1\">\n              <Form.Label>Password</Form.Label>\n              <Form.Control\n                type=\"password\"\n                placeholder=\"Enter password\"\n                name=\"password\"\n                onKeyUp={checkPasswordValidation}\n                className={passwordStyle()}\n              />\n              {passwordValid.msg && (\n                <small className=\"text-danger p-1\">{passwordValid.msg}</small>\n              )}\n            </Form.Group>\n            <Button\n              variant=\"primary\"\n              type=\"submit\"\n              className=\"w-100\"\n              disabled={\n                !usernameValid.isValid ||\n                !emailValid.isValid ||\n                !passwordValid.isValid\n              }\n            >\n              {isLoading ? \"Loading ...\" : \"Register\"}\n            </Button>\n            {error.isError && (\n              <div className=\"alert alert-danger text-center my-2\">\n                {error.msg}\n              </div>\n            )}\n          </Form>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default Register;\n","import axios from \"axios\";\nimport jwt_decode from \"jwt-decode\";\nimport { Context } from \"../../context/Context\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { useState, useEffect, useContext } from \"react\";\nimport defaultImg from \"../../assets/images/defaultImg.jpg\";\nimport {\n  Spinner,\n  Container,\n  Button,\n  Card,\n  ListGroup,\n  Alert,\n} from \"react-bootstrap\";\n\nconst PostDetails = (props) => {\n  const { user, dispatch } = useContext(Context);\n  const { id } = useParams();\n  const [post, setPost] = useState(null);\n  const [showAlert, setShowAlert] = useState({\n    isError: false,\n    isSuccess: false,\n  });\n\n  useEffect(() => {\n    const fetchPost = async () => {\n      const res = await axios.get(`/posts/${id}`);\n      setPost(res.data);\n    };\n    fetchPost();\n  }, [id]);\n\n  const axiosJWT = axios.create();\n  if (user) {\n    const refreshToken = async () => {\n      try {\n        const res = await axios.post(\"/users/refresh-token\", {\n          token: user.refreshToken,\n        });\n        dispatch({\n          type: \"LOGIN_SUCCESS\",\n          payload: { ...user, accessToken: res.data.accessToken },\n        });\n        return res.data;\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    //This will run before every axios request to refresh token\n    const decodedToken = jwt_decode(user.accessToken);\n    axiosJWT.interceptors.request.use(\n      async (config) => {\n        let currentDate = new Date();\n        if (decodedToken.exp * 1000 < currentDate.getTime()) {\n          const data = await refreshToken();\n          config.headers[\"auth-token\"] = data.accessToken;\n        }\n        return config;\n      },\n      (err) => {\n        return Promise.reject(err);\n      }\n    );\n  }\n  const onDelete = async (postId) => {\n    try {\n      let res = await axiosJWT.delete(`/posts/${postId}`, {\n        headers: {\n          \"auth-token\": user.accessToken,\n        },\n      });\n      if (res) {\n        setShowAlert({ isError: false, isSuccess: true });\n        setTimeout(window.location.replace(\"/app\"), 3000);\n      }\n    } catch (err) {\n      setShowAlert({ isError: true, isSuccess: false });\n    }\n  };\n\n  return post ? (\n    <Container>\n      {showAlert.isError && (\n        <Alert\n          variant=\"danger\"\n          onClose={() =>\n            setShowAlert({\n              isError: false,\n              isSuccess: false,\n            })\n          }\n          className=\"success-alert\"\n          dismissible\n        >\n          <Alert.Heading className=\"f-1\">Somthing went wrong!</Alert.Heading>\n        </Alert>\n      )}\n      {showAlert.isSuccess && (\n        <Alert\n          variant=\"success\"\n          onClose={() =>\n            setShowAlert({\n              isError: false,\n              isSuccess: false,\n            })\n          }\n          className=\"success-alert\"\n          dismissible\n        >\n          <Alert.Heading className=\"f-1\">\n            Post has been successfully deleted\n          </Alert.Heading>\n        </Alert>\n      )}\n      <Card className=\"my-4\">\n        <div style={{ textAlign: \"center\" }}>\n          <Card.Img\n            className=\"w-50 my-2\"\n            src={\n              post.postImg\n                ? `https://azstorageabdelrazek.blob.core.windows.net/postimgs/${post.postImg}`\n                : defaultImg\n            }\n          />\n        </div>\n        <Card.Body>\n          <div className=\"px-1 text-center\">\n            <Card.Title>{post.title}</Card.Title>\n            <Card.Text className=\"first-letter\" style={{ lineHeight: 2 }}>\n              {post.body}\n            </Card.Text>\n          </div>\n          <ListGroup variant=\"flush\">\n            <ListGroup.Item>\n              {user && user._id === post.createdBy._id ? (\n                <Link className=\"username-link\" to=\"/edit-profile\">\n                  {post.createdBy ? post.createdBy.username : \"user\"}\n                </Link>\n              ) : (\n                <Link\n                  className=\"username-link\"\n                  to={{\n                    pathname: `/profile/${post.createdBy._id}`,\n                    state: {\n                      username: post.createdBy.username,\n                    },\n                  }}\n                >\n                  {post.createdBy ? post.createdBy.username : \"user\"}\n                </Link>\n              )}\n            </ListGroup.Item>\n            <ListGroup.Item>\n              {new Date(post.createdAt).toDateString()}\n            </ListGroup.Item>\n            {user && user._id === post.createdBy._id ? (\n              <ListGroup.Item>\n                <Link\n                  className=\"btn btn-primary\"\n                  to={{\n                    pathname: `/edit-post/${post._id}`,\n                    state: {\n                      postTitle: post.title,\n                      postBody: post.body,\n                      postImg: post.postImg,\n                    },\n                  }}\n                  style={{ marginRight: \"5px\" }}\n                >\n                  Edit Post\n                </Link>\n                <Button variant=\"danger\" onClick={() => onDelete(id)}>\n                  Delete Post\n                </Button>\n              </ListGroup.Item>\n            ) : null}\n          </ListGroup>\n        </Card.Body>\n      </Card>\n    </Container>\n  ) : (\n    <div className=\"d-flex justify-content-center m-4\">\n      <Spinner animation=\"border\" role=\"status\" />\n    </div>\n  );\n};\n\nexport default PostDetails;\n","import React from \"react\";\nimport PostDetails from \"../components/blog/PostDetails\";\n\nconst PostView = (props) => {\n  return (\n    <div>\n      <PostDetails {...props} />\n    </div>\n  );\n};\n\nexport default PostView;\n","import axios from \"axios\";\nimport jwt_decode from \"jwt-decode\";\nimport { Link } from \"react-router-dom\";\nimport Post from \"../components/blog/Post\";\nimport { Context } from \"../context/Context\";\nimport { useState, useEffect, useContext } from \"react\";\nimport { Button, Container, Form, Row, Col, Alert } from \"react-bootstrap\";\n\nconst EditProfile = () => {\n  const { user, dispatch } = useContext(Context);\n\n  const [username, setUsername] = useState(user.username);\n  const [email, setEmail] = useState(user.email);\n\n  const [usernameValid, setUsernameValid] = useState({\n    touched: false,\n    isValid: true,\n    msg: \"\",\n  });\n\n  const [emailValid, setEmailValid] = useState({\n    touched: false,\n    isValid: true,\n    msg: \"\",\n  });\n\n  const [posts, setPosts] = useState([]);\n\n  const [deleteSuccess, setDeleteSuccess] = useState(false);\n\n  const [showAlert, setShowAlert] = useState({\n    isError: false,\n    isSuccess: false,\n  });\n\n  const [updateForm, setUpdateForm] = useState(false);\n  const [updateSuccess, setupdateSuccess] = useState(false);\n\n  const [error, setError] = useState({\n    isError: false,\n    msg: \"\",\n  });\n\n  const [isLoading, setisLoading] = useState(false);\n\n  useEffect(() => {\n    const fetchPosts = async () => {\n      try {\n        const res = await axios.get(`/posts?userId=${user._id}`);\n        setPosts(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchPosts();\n  }, [deleteSuccess, user._id]);\n\n  const refreshToken = async () => {\n    try {\n      const res = await axios.post(\"/users/refresh-token\", {\n        token: user.refreshToken,\n      });\n      dispatch({\n        type: \"LOGIN_SUCCESS\",\n        payload: { ...user, accessToken: res.data.accessToken },\n      });\n      return res.data;\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const axiosJWT = axios.create();\n  //This will run before every axios request to refresh token\n  const decodedToken = jwt_decode(user.accessToken);\n  axiosJWT.interceptors.request.use(\n    async (config) => {\n      let currentDate = new Date();\n      if (decodedToken.exp * 1000 < currentDate.getTime()) {\n        const data = await refreshToken();\n        config.headers[\"auth-token\"] = data.accessToken;\n      }\n      return config;\n    },\n    (err) => {\n      return Promise.reject(err);\n    }\n  );\n\n  const onDelete = async (post) => {\n    try {\n      let res = await axiosJWT.delete(`/posts/${post._id}`, {\n        headers: {\n          \"auth-token\": user.accessToken,\n        },\n      });\n      if (res) {\n        setDeleteSuccess(!deleteSuccess);\n        setShowAlert({ isError: false, isSuccess: true });\n      }\n    } catch (err) {\n      console.log(err);\n      setShowAlert({ isError: true, isSuccess: false });\n    }\n  };\n  const checkUsernameValidation = (e) => {\n    let val = e.target.value;\n    setUsername(val);\n    let valids = { ...usernameValid };\n    valids.touched = true;\n    if (val.length <= 0) {\n      valids.isValid = false;\n      valids.msg = \"Username is required.\";\n    } else if (val.length < 4) {\n      valids.isValid = false;\n      valids.msg = \"Username must be more than 3 characters.\";\n    } else if (val.length > 100) {\n      valids.isValid = false;\n      valids.msg = \"Username must be less than 100 characters.\";\n    } else {\n      valids.isValid = true;\n      valids.msg = \"\";\n    }\n    setUsernameValid({ ...valids });\n  };\n\n  const validateEmail = (email) => {\n    var re = /\\S+@\\S+\\.\\S+/;\n    return re.test(email);\n  };\n\n  const checkEmailValidation = (e) => {\n    let val = e.target.value;\n    setEmail(val);\n    let valids = { ...emailValid };\n    valids.touched = true;\n    if (val.length <= 0) {\n      valids.isValid = false;\n      valids.msg = \"Email is required.\";\n    } else if (!validateEmail(val)) {\n      valids.isValid = false;\n      valids.msg = \"Email is not valid\";\n    } else if (val.length > 100) {\n      valids.isValid = false;\n      valids.msg = \"Email must be less than 100 characters.\";\n    } else {\n      valids.isValid = true;\n      valids.msg = \"\";\n    }\n    setEmailValid({ ...valids });\n  };\n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n    try {\n      setisLoading(true);\n      setError({ isError: false, msg: \"\" });\n      if (usernameValid.isValid && emailValid.isValid) {\n        let res = await axiosJWT.put(\n          `/users/${user._id}`,\n          { username, email },\n          { headers: { \"auth-token\": user.accessToken } }\n        );\n\n        if (res) {\n          dispatch({\n            type: \"LOGIN_SUCCESS\",\n            payload: {\n              ...user,\n              username: res.data.username,\n              email: res.data.email,\n            },\n          });\n          setisLoading(false);\n          setupdateSuccess(true);\n        }\n      }\n    } catch (err) {\n      setupdateSuccess(false);\n      setisLoading(false);\n      if (err.response.status === 409) {\n        setError({ isError: true, msg: \"Email is already used\" });\n      } else {\n        setError({ isError: true, msg: \"Somthing went wrong!\" });\n      }\n    }\n  };\n\n  const usernameStyle = () => {\n    if (usernameValid.touched) {\n      if (usernameValid.isValid) {\n        return \"border border-success\";\n      } else return \"border border-danger\";\n    }\n  };\n\n  const emailStyle = () => {\n    if (emailValid.touched) {\n      if (emailValid.isValid) {\n        return \"border border-success\";\n      } else return \"border border-danger\";\n    }\n  };\n\n  const renderPosts = () => {\n    return posts.length > 0 ? (\n      posts.map((post) => (\n        <Col md={6} lg={4} key={post._id}>\n          <Post post={post} userProfile={true} onDelete={onDelete} />\n        </Col>\n      ))\n    ) : (\n      // <Spinner animation=\"border\" role=\"status\" />\n      <h5 className=\"my-4\">\n        You do not have any posts, <Link to=\"/posts/add-post\">Write now</Link>\n      </h5>\n    );\n  };\n\n  return (\n    <Container>\n      {showAlert.isError && (\n        <Alert\n          variant=\"danger\"\n          onClose={() =>\n            setShowAlert({\n              isError: false,\n              isSuccess: false,\n            })\n          }\n          className=\"success-alert\"\n          dismissible\n        >\n          <Alert.Heading className=\"f-1\">Somthing went wrong!</Alert.Heading>\n        </Alert>\n      )}\n      {showAlert.isSuccess && (\n        <Alert\n          variant=\"success\"\n          onClose={() =>\n            setShowAlert({\n              isError: false,\n              isSuccess: false,\n            })\n          }\n          className=\"success-alert\"\n          dismissible\n        >\n          <Alert.Heading className=\"f-1\">\n            Post has been successfully deleted\n          </Alert.Heading>\n        </Alert>\n      )}\n\n      <Row>\n        <Col md={6} lg={4} className=\" mx-auto bg-light p-4 my-4 shadow-sm\">\n          {!updateForm && (\n            <div style={{ textAlign: \"center\" }}>\n              <Button\n                variant=\"primary\"\n                className=\"w-50\"\n                onClick={() => setUpdateForm(true)}\n              >\n                Update Profile\n              </Button>\n            </div>\n          )}\n          {updateForm && (\n            <Form onSubmit={submitHandler}>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>Username</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  placeholder=\"Enter username\"\n                  name=\"username\"\n                  value={username}\n                  onChange={checkUsernameValidation}\n                  className={usernameStyle()}\n                />\n                {usernameValid.msg && (\n                  <small className=\"text-danger p-1\">{usernameValid.msg}</small>\n                )}\n              </Form.Group>\n              <Form.Group\n                className=\"mb-3\"\n                controlId=\"exampleForm.ControlInput1\"\n              >\n                <Form.Label>Email address</Form.Label>\n                <Form.Control\n                  type=\"email\"\n                  placeholder=\"Enter email\"\n                  name=\"email\"\n                  value={email}\n                  onChange={checkEmailValidation}\n                  className={emailStyle()}\n                />\n                {emailValid.msg && (\n                  <small className=\"text-danger p-1\">{emailValid.msg}</small>\n                )}\n              </Form.Group>\n              <Button\n                variant=\"primary\"\n                type=\"submit\"\n                className=\"w-100\"\n                disabled={!usernameValid.isValid || !emailValid.isValid}\n              >\n                {isLoading ? \"Loading ...\" : \"Update\"}\n              </Button>\n              {updateSuccess && (\n                <div className=\"alert alert-success text-center my-2\">\n                  Update Successfully\n                </div>\n              )}\n              {error.isError && (\n                <div className=\"alert alert-danger text-center my-2\">\n                  {error.msg}\n                </div>\n              )}\n            </Form>\n          )}\n        </Col>\n      </Row>\n      <h2 id=\"posts\" className=\"h3 border-bottom mb-4 pb-4 text-primary\">\n        Your Posts\n      </h2>\n      <Row className=\"justify-content-center g-4\">{renderPosts()}</Row>\n    </Container>\n  );\n};\n\nexport default EditProfile;\n","import axios from \"axios\";\nimport jwt_decode from \"jwt-decode\";\nimport { useState, useContext } from \"react\";\nimport { Context } from \"../../context/Context\";\nimport { useParams, useLocation } from \"react-router\";\nimport { Button, Container, Form, Row, Col, Image } from \"react-bootstrap\";\nconst EditPost = () => {\n  const { user, dispatch } = useContext(Context);\n\n  const postId = useParams().id;\n\n  const location = useLocation();\n  const { postTitle, postBody, postImg } = location.state;\n  const [titleValid, setTitleValid] = useState({\n    touched: false,\n    isValid: true,\n    msg: \"\",\n  });\n\n  const [bodyValid, setBodyValid] = useState({\n    touched: false,\n    isValid: true,\n    msg: \"\",\n  });\n\n  const [title, setTitle] = useState(postTitle);\n  const [body, setBody] = useState(postBody);\n\n  const [image, setImage] = useState(null);\n\n  const [isLoading, setisLoading] = useState(false);\n\n  const [addSuccess, setaddSuccess] = useState(false);\n\n  const [error, setError] = useState({\n    isError: false,\n    msg: \"\",\n  });\n\n  const checkTitleValidation = (e) => {\n    let val = e.target.value;\n    setTitle(val);\n    let valids = { ...titleValid };\n    valids.touched = true;\n    if (val.length <= 0) {\n      valids.isValid = false;\n      valids.msg = \"Title is required.\";\n    } else if (val.length < 3) {\n      valids.isValid = false;\n      valids.msg = \"Title must be more than 2 characters.\";\n    } else if (val.length > 255) {\n      valids.isValid = false;\n      valids.msg = \"Title must be less than 255 characters.\";\n    } else {\n      valids.isValid = true;\n      valids.msg = \"\";\n    }\n    setTitleValid({ ...valids });\n  };\n\n  const checkBodyValidation = (e) => {\n    let val = e.target.value;\n    setBody(val);\n    let valids = { ...bodyValid };\n    valids.touched = true;\n    if (val.length <= 0) {\n      valids.isValid = false;\n      valids.msg = \"Body is required.\";\n    } else if (val.length < 5) {\n      valids.isValid = false;\n      valids.msg = \"Body must be more than 4 characters.\";\n    } else if (val.length > 10000) {\n      valids.isValid = false;\n      valids.msg = \"Body must be less than 10000 characters.\";\n    } else {\n      valids.isValid = true;\n      valids.msg = \"\";\n    }\n    setBodyValid({ ...valids });\n  };\n\n  const titleStyle = () => {\n    if (titleValid.touched) {\n      if (titleValid.isValid) {\n        return \"border border-success\";\n      } else return \"border border-danger\";\n    }\n  };\n\n  const bodyStyle = () => {\n    if (bodyValid.touched) {\n      if (bodyValid.isValid) {\n        return \"border border-success\";\n      } else return \"border border-danger\";\n    }\n  };\n\n  const refreshToken = async () => {\n    try {\n      const res = await axios.post(\"/users/refresh-token\", {\n        token: user.refreshToken,\n      });\n      dispatch({\n        type: \"LOGIN_SUCCESS\",\n        payload: { ...user, accessToken: res.data.accessToken },\n      });\n      return res.data;\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const axiosJWT = axios.create();\n  //This will run before axios request to refresh token\n  axiosJWT.interceptors.request.use(\n    async (config) => {\n      let currentDate = new Date();\n      const decodedToken = jwt_decode(user.accessToken);\n      if (decodedToken.exp * 1000 < currentDate.getTime()) {\n        const data = await refreshToken();\n        config.headers[\"auth-token\"] = data.accessToken;\n      }\n      return config;\n    },\n    (err) => {\n      return Promise.reject(err);\n    }\n  );\n\n  const addPostHandler = async (e) => {\n    e.preventDefault();\n    try {\n      if (titleValid.isValid && bodyValid.isValid) {\n        let formData = new FormData();\n        formData.append(\"title\", title);\n        formData.append(\"body\", body);\n        image && formData.append(\"image\", image);\n        console.log(title, body, image);\n        setisLoading(true);\n\n        let res = await axiosJWT({\n          method: \"put\",\n          url: `/posts/${postId}`,\n          data: formData,\n          headers: {\n            \"auth-token\": user.accessToken,\n            \"Content-Type\": \"multipart/form-data\",\n          },\n        });\n        console.log(res);\n        if (res.data) {\n          setisLoading(false);\n          setaddSuccess(true);\n        }\n      }\n    } catch (err) {\n      console.log(err);\n      setisLoading(false);\n      setaddSuccess(false);\n      if (err.response.status === 400) {\n        setError({ isError: true, msg: \"Invalid inputs\" });\n      } else {\n        setError({ isError: true, msg: \"Somthing went wrong!\" });\n      }\n    }\n  };\n\n  return (\n    <Container>\n      <Row>\n        <Col md={6} lg={4} className=\" mx-auto bg-light p-4 my-4 shadow-sm\">\n          <h2 className=\" text-center h4 m-3 text-secondary\">Update Post</h2>\n          <Form onSubmit={addPostHandler}>\n            <Form.Group className=\"mb-3\">\n              <Form.Label>Post title</Form.Label>\n              <Form.Control\n                type=\"text\"\n                value={title}\n                name=\"title\"\n                className={titleStyle()}\n                onChange={checkTitleValidation}\n              />\n              {titleValid.msg && (\n                <small className=\"text-danger p-1\">{titleValid.msg}</small>\n              )}\n            </Form.Group>\n\n            <Form.Group\n              className=\"mb-3\"\n              controlId=\"exampleForm.ControlTextarea1\"\n            >\n              <Form.Label>Post body</Form.Label>\n              <Form.Control\n                as=\"textarea\"\n                value={body}\n                rows={3}\n                name=\"body\"\n                className={bodyStyle()}\n                onChange={checkBodyValidation}\n              />\n              {bodyValid.msg && (\n                <small className=\"text-danger p-1\">{bodyValid.msg}</small>\n              )}\n            </Form.Group>\n            <Form.Group controlId=\"formFile\" className=\"mb-3\">\n              <Form.Label>Post image</Form.Label>\n              <div className=\"d-flex my-2 justify-content-center\">\n                <Col xs={6} md={4}>\n                  {image ? (\n                    <Image src={URL.createObjectURL(image)} thumbnail />\n                  ) : (\n                    <Image\n                      src={`https://azstorageabdelrazek.blob.core.windows.net/postimgs/${postImg}`}\n                      thumbnail\n                    />\n                  )}\n                </Col>\n              </div>\n              <Form.Control\n                type=\"file\"\n                name=\"image\"\n                accept=\"image/png, image/jpeg, image/jpg, image/JPG, image/svg, image/webp\"\n                onChange={(e) => setImage(e.target.files[0])}\n              />\n            </Form.Group>\n            <Button\n              variant=\"primary\"\n              type=\"submit\"\n              className=\"w-100\"\n              disabled={!titleValid.isValid || !bodyValid.isValid}\n            >\n              {isLoading ? \"Loading ...\" : \"Update Post\"}\n            </Button>\n          </Form>\n          {error.isError && (\n            <div className=\"alert alert-danger text-center my-2\">\n              {error.msg}\n            </div>\n          )}\n          {addSuccess && (\n            <div className=\"alert alert-success text-center my-2\">\n              Post Updated Successfully\n            </div>\n          )}\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default EditPost;\n","import { useContext } from \"react\";\nimport axios from \"axios\";\nimport { Nav, Navbar, Container } from \"react-bootstrap\";\nimport { NavLink, Link } from \"react-router-dom\";\nimport { Context } from \"../../context/Context\";\n\nexport const Header = () => {\n  const { user, dispatch } = useContext(Context);\n\n  const handleLogout = async () => {\n    try {\n      let res = await axios.post(\"/users/logout\", { token: user.refreshToken });\n      if (res) {\n        dispatch({ type: \"LOGOUT\" });\n        window.location.replace(\"/app\");\n      }\n    } catch (err) {\n      window.location.replace(\"/app\");\n      console.log(err);\n    }\n  };\n\n  return (\n    <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\" sticky=\"top\">\n      <Container>\n        <Navbar.Brand>\n          <Link className=\"white-link\" to={\"/\"}>\n            Mern Blog\n          </Link>\n        </Navbar.Brand>\n        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n        <Navbar.Collapse\n          id=\"responsive-navbar-nav\"\n          className=\"justify-content-end\"\n        >\n          <Nav className=\"\">\n            <NavLink className=\"nav-link\" exact to=\"/\">\n              home\n            </NavLink>\n            {!user ? (\n              <>\n                <NavLink className=\"nav-link\" to=\"/login\">\n                  login\n                </NavLink>\n\n                <NavLink className=\"nav-link\" to=\"/register\">\n                  register\n                </NavLink>\n              </>\n            ) : null}\n            {user ? (\n              <>\n                <NavLink className=\"nav-link\" to=\"/posts/add-post\">\n                  write\n                </NavLink>\n                <NavLink className=\"nav-link\" to=\"/edit-profile\">\n                  profile\n                </NavLink>\n                <span\n                  className=\"nav-link\"\n                  style={{ cursor: \"pointer\" }}\n                  onClick={handleLogout}\n                >\n                  logout\n                </span>\n              </>\n            ) : null}\n            <NavLink className=\"nav-link\" to=\"/about\">\n              contact\n            </NavLink>\n          </Nav>\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  );\n};\n\nexport default Header;\n","const Footer = () => {\n  return (\n    <footer className=\"d-flex justify-content-center p-4 bg-light\">\n      <h4 className=\"lead text-secondary\"> &copy; 2021 Abdelrazek</h4>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import React from \"react\";\nimport Head from \"./blog/Head\";\nclass NotFound extends React.Component {\n  componentDidMount() {\n    this.props.history.replace(\"/not-found\");\n  }\n  render() {\n    return (\n      <div>\n        <Head title=\"404 not found\" />\n      </div>\n    );\n  }\n}\n\nexport default NotFound;\n","import React, { Suspense, useContext } from \"react\";\nimport { Spinner } from \"react-bootstrap\";\nimport { Context } from \"./context/Context\";\nimport { BrowserRouter, Redirect, Route, Switch } from \"react-router-dom\";\n\n// Import views\nimport Land from \"./views/Land\";\nimport About from \"./views/About\";\nimport Login from \"./views/Login\";\nimport Profile from \"./views/Profile\";\nimport Register from \"./views/Register\";\nimport PostView from \"./views/PostView\";\nimport EditProfile from \"./views/EditProfile\";\n\n// Import components\nimport EditPost from \"./components/blog/EditPost\";\nimport Header from \"./components/layout/Header\";\nimport Footer from \"./components/layout/Footer\";\nimport NotFound from \"./components/NotFound\";\n\n// Lazy Loading\nconst AddPost = React.lazy(() => import(\"./components/blog/AddPost\"));\n\nconst App = () => {\n  const { user } = useContext(Context);\n\n  return (\n    <>\n      {/* Using basename=\"/app\" to avoid server problems */}\n      <BrowserRouter basename=\"/app\">\n        <Header />\n        <Switch>\n          <Route path=\"/\" exact component={Land} />\n          <Route path=\"/about\" component={About} />\n          <Route path=\"/edit-post/:id\" component={EditPost} />\n          <Route path=\"/edit-profile\" component={EditProfile} />\n          <Route path=\"/profile/:id\" component={Profile} />\n          <Route path=\"/login\" component={Login} />\n          <Route path=\"/register\" component={Register} />\n          {user ? (\n            <Route\n              path=\"/posts/add-post\"\n              render={(props) => {\n                return (\n                  <Suspense\n                    fallback={<Spinner animation=\"border\" role=\"status\" />}\n                  >\n                    <AddPost {...props} />\n                  </Suspense>\n                );\n              }}\n            />\n          ) : (\n            <Redirect from=\"/posts/add-post\" to=\"/login\" />\n          )}\n          <Route path=\"/posts/:id\" component={PostView} />\n          <Redirect from=\"/home\" to=\"/\" />\n          <Route component={NotFound} />\n          {/* Redirect \"from\" attribute is used only on switch */}\n        </Switch>\n        <Footer />\n      </BrowserRouter>\n    </>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./assets/styles/main.css\";\nimport App from \"./App\";\nimport { ContextProvider } from \"./context/Context\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <ContextProvider>\n      <App />\n    </ContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","const Reducer = (state, action) => {\n  switch (action.type) {\n    case \"LOGIN_START\":\n      return {\n        user: null,\n        isFetching: true,\n        error: false,\n      };\n    case \"LOGIN_SUCCESS\":\n      return { user: action.payload, isFetching: false, error: false };\n    case \"LOGIN_FAILURE\":\n      return { user: null, isFetching: false, error: true };\n    case \"LOGOUT\":\n      return { user: null, isFetching: false, error: false };\n    default:\n      return state;\n  }\n};\n\nexport default Reducer;\n","import { createContext, useReducer, useEffect } from \"react\";\nimport Reducer from \"./Reducer\";\n\nconst INITIAL_STATE = {\n  user: JSON.parse(localStorage.getItem(\"user\")) || null,\n  isFetching: false,\n  error: false,\n};\n\nexport const Context = createContext(INITIAL_STATE);\n\nexport const ContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(Reducer, INITIAL_STATE);\n\n  useEffect(() => {\n    localStorage.setItem(\"user\", JSON.stringify(state.user));\n  }, [state.user]);\n\n  return (\n    <Context.Provider\n      value={{\n        user: state.user,\n        isFetching: state.isFetching,\n        error: state.error,\n        dispatch,\n      }}\n    >\n      {children}\n    </Context.Provider>\n  );\n};\n"],"sourceRoot":""}