{"version":3,"sources":["context/Reducer.js","context/Context.js","views/Login.js","assets/images/defaultImg.jpg","components/blog/Post.js","views/Profile.js","views/Register.js","views/EditProfile.js","components/blog/PostModal.js","components/blog/Posts.js","views/Blog.js","components/NotFound.js","components/blog/AddPost.js","components/layout/Header.js","components/layout/Footer.js","components/blog/EditPost.js","components/blog/PostDetails.js","App.js","index.js","components/blog/Head.js"],"names":["Reducer","state","action","type","user","isFetching","error","payload","INITIAL_STATE","JSON","parse","localStorage","getItem","Context","createContext","ContextProvider","children","useReducer","dispatch","useEffect","setItem","stringify","Provider","value","Login","useContext","useState","touched","isValid","msg","emailValid","setEmailValid","passwordValid","setPasswordValid","submitHandler","e","a","preventDefault","email","target","password","axios","post","res","data","window","location","replace","console","log","Container","Row","Col","md","lg","className","Form","onSubmit","Group","controlId","Label","Control","placeholder","name","onBlur","val","trim","valids","length","test","emailStyle","onKeyUp","passwordStyle","Button","variant","disabled","Post","onShow","userProfile","onDelete","Card","to","_id","Img","src","postImg","defaultImg","Body","Title","title","Text","body","trimmedString","substr","Math","min","lastIndexOf","cutString","ListGroup","Item","createdBy","username","pathname","Date","createdAt","toDateString","style","marginRight","onClick","postTitle","postBody","Profile","posts","setPosts","useLocation","id","useParams","get","fetchPosts","Head","map","Spinner","animation","role","Register","usernameValid","setUsernameValid","isError","setError","isLoading","setisLoading","response","status","usernameStyle","EditProfile","setUsername","setEmail","updateForm","setUpdateForm","deleteSuccess","setDeleteSuccess","updateSuccess","setupdateSuccess","isSuccess","showAlert","setShowAlert","refreshToken","token","accessToken","axiosJWT","create","decodedToken","jwt_decode","interceptors","request","use","config","currentDate","exp","getTime","headers","err","Promise","reject","delete","put","Alert","onClose","dismissible","Heading","textAlign","onChange","validateEmail","PostModal","showModal","hideModal","modalData","Modal","show","size","centered","onHide","Header","closeButton","Footer","Posts","setModalData","setShowModal","showModalFun","Blog","NotFound","this","props","history","React","Component","AddPost","image","setImage","addSuccess","setaddSuccess","titleValid","setTitleValid","bodyValid","setBodyValid","addPostHandler","formData","FormData","append","method","url","reset","titleStyle","autoFocus","as","rows","bodyStyle","xs","Image","URL","createObjectURL","thumbnail","accept","files","handleLogout","Navbar","collapseOnSelect","expand","bg","sticky","Brand","Toggle","Collapse","Nav","exact","cursor","EditPost","postId","setTitle","setBody","PostDetails","setPost","fetchPost","setTimeout","lineHeight","About","lazy","App","basename","path","component","render","fallback","from","ReactDOM","StrictMode","document","getElementById"],"mappings":"sLAmBeA,EAnBC,SAACC,EAAOC,GACtB,OAAQA,EAAOC,MACb,IAAK,cACH,MAAO,CACLC,KAAM,KACNC,YAAY,EACZC,OAAO,GAEX,IAAK,gBACH,MAAO,CAAEF,KAAMF,EAAOK,QAASF,YAAY,EAAOC,OAAO,GAC3D,IAAK,gBACH,MAAO,CAAEF,KAAM,KAAMC,YAAY,EAAOC,OAAO,GACjD,IAAK,SACH,MAAO,CAAEF,KAAM,KAAMC,YAAY,EAAOC,OAAO,GACjD,QACE,OAAOL,I,OCZPO,EAAgB,CACpBJ,KAAMK,KAAKC,MAAMC,aAAaC,QAAQ,UAAY,KAClDP,YAAY,EACZC,OAAO,GAGIO,EAAUC,wBAAcN,GAExBO,EAAkB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAChC,EAA0BC,qBAAWjB,EAASQ,GAA9C,mBAAOP,EAAP,KAAciB,EAAd,KAMA,OAJAC,qBAAU,WACRR,aAAaS,QAAQ,OAAQX,KAAKY,UAAUpB,EAAMG,SACjD,CAACH,EAAMG,OAGR,cAACS,EAAQS,SAAT,CACEC,MAAO,CACLnB,KAAMH,EAAMG,KACZC,WAAYJ,EAAMI,WAClBC,MAAOL,EAAMK,MACbY,YALJ,SAQGF,K,2GCwHQQ,EA9ID,WACZ,MAAwCC,qBAAWZ,GAA3CK,EAAR,EAAQA,SAAUb,EAAlB,EAAkBA,WAAYC,EAA9B,EAA8BA,MAE9B,EAAoCoB,mBAAS,CAC3CC,SAAS,EACTC,SAAS,EACTC,IAAK,KAHP,mBAAOC,EAAP,KAAmBC,EAAnB,KAMA,EAA0CL,mBAAS,CACjDC,SAAS,EACTC,SAAS,EACTC,IAAK,KAHP,mBAAOG,EAAP,KAAsBC,EAAtB,KAgDMC,EAAa,uCAAG,WAAOC,GAAP,mBAAAC,EAAA,yDACpBD,EAAEE,iBACFnB,EAAS,CAAEf,KAAM,gBACbmC,EAAQH,EAAEI,OAAOD,MAAMf,MACzBiB,EAAWL,EAAEI,OAAOC,SAASjB,MAJX,UAMdO,EAAWF,UAAWI,EAAcJ,QANtB,iCAOAa,IAAMC,KAAK,sBAAuB,CAAEJ,QAAOE,aAP3C,OAOZG,EAPY,OAQhBzB,EAAS,CAAEf,KAAM,gBAAiBI,QAASoC,EAAIC,OAC/CC,OAAOC,SAASC,QAAQ,QATR,0DAYlB7B,EAAS,CAAEf,KAAM,kBACjB6C,QAAQC,IAAR,MAbkB,0DAAH,sDAiCnB,OACE,cAACC,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,UACE,eAACC,EAAA,EAAD,CAAKC,GAAI,EAAGC,GAAI,EAAGC,UAAU,uCAA7B,UACE,oBAAIA,UAAU,qCAAd,mBACA,eAACC,EAAA,EAAD,CAAMC,SAAUvB,EAAhB,UACE,eAACsB,EAAA,EAAKE,MAAN,CAAYH,UAAU,OAAOI,UAAU,4BAAvC,UACE,cAACH,EAAA,EAAKI,MAAN,4BACA,cAACJ,EAAA,EAAKK,QAAN,CACE1D,KAAK,QACL2D,YAAY,cACZC,KAAK,QACLC,OAlFe,SAAC7B,GAC5B,IAAI8B,EAAM9B,EAAEI,OAAOhB,MAAM2C,OACrBC,EAAM,eAAQrC,GAClBqC,EAAOxC,SAAU,EACbsC,EAAIG,QAAU,GAChBD,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,sBAVN,eACCwC,KAUgBJ,GAGfA,EAAIG,OAAS,KACtBD,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,4CAEbsC,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,KAPbsC,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,sBAQfE,EAAc,eAAKoC,KAkEPZ,UA7BK,WACjB,GAAIzB,EAAWH,QACb,OAAIG,EAAWF,QACN,wBACK,uBAyBO0C,KAEZxC,EAAWD,KACV,uBAAO0B,UAAU,kBAAjB,SAAoCzB,EAAWD,SAGnD,eAAC2B,EAAA,EAAKE,MAAN,CAAYH,UAAU,OAAOI,UAAU,wBAAvC,UACE,cAACH,EAAA,EAAKI,MAAN,uBACA,cAACJ,EAAA,EAAKK,QAAN,CACE1D,KAAK,WACL2D,YAAY,iBACZC,KAAK,WACLQ,QA3EkB,SAACpC,GAC/B,IAAI8B,EAAM9B,EAAEI,OAAOhB,MAAM2C,OACrBC,EAAM,eAAQnC,GAClBmC,EAAOxC,SAAU,EACbsC,EAAIG,QAAU,GAChBD,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,yBACJoC,EAAIG,OAAS,KACtBD,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,+CAEbsC,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,IAEfI,EAAiB,eAAKkC,KA8DVZ,UAlCQ,WACpB,GAAIvB,EAAcL,QAChB,OAAIK,EAAcJ,QACT,wBACK,uBA8BO4C,KAEZxC,EAAcH,KACb,uBAAO0B,UAAU,kBAAjB,SAAoCvB,EAAcH,SAGtD,cAAC4C,EAAA,EAAD,CACEC,QAAQ,UACRvE,KAAK,SACLoD,UAAU,QACVoB,UAAW7C,EAAWF,UAAYI,EAAcJ,QAJlD,SAMGvB,EAAa,cAAgB,UAE/BC,GACC,qBAAKiD,UAAU,sCAAf,kD,0BCxIC,MAA0B,uCCqG1BqB,EA/FF,SAAC,GAA6C,IAA3ClC,EAA0C,EAA1CA,KAAMmC,EAAoC,EAApCA,OAAQC,EAA4B,EAA5BA,YAAaC,EAAe,EAAfA,SACjC3E,EAASqB,qBAAWZ,GAApBT,KAaR,OACE,eAAC4E,EAAA,EAAD,CAAMzB,UAAU,oBAAhB,UACE,cAAC,IAAD,CAAM0B,GAAE,iBAAYvC,EAAKwC,KAAzB,SACE,cAACF,EAAA,EAAKG,IAAN,CACET,QAAQ,MACRU,IACE1C,EAAK2C,QAAL,qEACkE3C,EAAK2C,SACnEC,MAIV,eAACN,EAAA,EAAKO,KAAN,WACE,sBAAKhC,UAAU,mBAAf,UACE,cAACyB,EAAA,EAAKQ,MAAN,UAAa9C,EAAK+C,QAClB,cAACT,EAAA,EAAKU,KAAN,UAzBU,WAChB,GAAIhD,EAAKiD,KAAKvB,OAAS,IAAK,OAAO1B,EAAKiD,KACxC,IAAIC,EAAgBlD,EAAKiD,KAAKE,OAAO,EAAG,KAKxC,OAJAD,EAAgBA,EAAcC,OAC5B,EACAC,KAAKC,IAAIH,EAAcxB,OAAQwB,EAAcI,YAAY,OAErD,GAAN,OAAUJ,EAAV,UAkBkBK,QAEd,eAACC,EAAA,EAAD,CAAWxB,QAAQ,QAAnB,UACE,cAACwB,EAAA,EAAUC,KAAX,UACG/F,GAAQA,EAAK8E,MAAQxC,EAAK0D,UAAUlB,IACnC,cAAC,IAAD,CAAM3B,UAAU,gBAAgB0B,GAAG,gBAAnC,SACGvC,EAAK0D,UAAY1D,EAAK0D,UAAUC,SAAW,SAG9C,cAAC,IAAD,CACE9C,UAAU,gBACV0B,GAAI,CACFqB,SAAS,YAAD,OAAc5D,EAAK0D,UAAUlB,KACrCjF,MAAO,CACLoG,SAAU3D,EAAK0D,UAAUC,WAL/B,SASG3D,EAAK0D,UAAY1D,EAAK0D,UAAUC,SAAW,WAIlD,cAACH,EAAA,EAAUC,KAAX,UACG,IAAII,KAAK7D,EAAK8D,WAAWC,iBAE5B,eAACP,EAAA,EAAUC,KAAX,WACE,cAAC,IAAD,CACE5C,UAAU,kBACVmD,MAAO,CAAEC,YAAa,OACtB1B,GAAE,iBAAYvC,EAAKwC,KAHrB,wBAOEJ,GACA,cAACL,EAAA,EAAD,CAAQC,QAAQ,UAAUkC,QAAS,kBAAM/B,EAAOnC,IAAhD,wBAIDoC,GACC,qCACE,cAAC,IAAD,CACEvB,UAAU,kBACV0B,GAAI,CACFqB,SAAS,cAAD,OAAgB5D,EAAKwC,KAC7BjF,MAAO,CACL4G,UAAWnE,EAAK+C,MAChBqB,SAAUpE,EAAKiD,KACfN,QAAS3C,EAAK2C,UAGlBqB,MAAO,CAAEC,YAAa,OAVxB,uBAcA,cAAClC,EAAA,EAAD,CAAQC,QAAQ,SAASkC,QAAS,kBAAM7B,EAASrC,IAAjD,yCCtCDqE,EA5CC,WACd,MAA0BrF,mBAAS,IAAnC,mBAAOsF,EAAP,KAAcC,EAAd,KAEMnE,EAAWoE,cACTC,EAAOC,cAAPD,GACAd,EAAavD,EAAS7C,MAAtBoG,SAERlF,qBAAU,YACQ,uCAAG,4BAAAiB,EAAA,+EAEGK,IAAM4E,IAAN,+BAAkCF,IAFrC,OAETxE,EAFS,OAGfsE,EAAStE,EAAIC,MAHE,gDAKfI,QAAQC,IAAR,MALe,yDAAH,qDAQhBqE,KACC,CAACH,IAcJ,OACE,qCACE,cAACI,EAAA,EAAD,CAAM9B,MAAK,UAAKY,KAChB,eAACnD,EAAA,EAAD,WACE,qBAAIiE,GAAG,QAAQ5D,UAAU,0CAAzB,UACG8C,EADH,YAGA,cAAClD,EAAA,EAAD,CAAKI,UAAU,6BAAf,SAlBGyD,EAAM5C,OAAS,EACpB4C,EAAMQ,KAAI,SAAC9E,GAAD,OACR,cAACU,EAAA,EAAD,CAAKC,GAAI,EAAGC,GAAI,EAAhB,SACE,cAAC,EAAD,CAAMZ,KAAMA,KADUA,EAAKwC,QAK/B,cAACuC,EAAA,EAAD,CAASC,UAAU,SAASC,KAAK,oBC8LxBC,EA5NE,WACf,MAA0ClG,mBAAS,CACjDC,SAAS,EACTC,SAAS,EACTC,IAAK,KAHP,mBAAOgG,EAAP,KAAsBC,EAAtB,KAMA,EAAoCpG,mBAAS,CAC3CC,SAAS,EACTC,SAAS,EACTC,IAAK,KAHP,mBAAOC,EAAP,KAAmBC,EAAnB,KAMA,EAA0CL,mBAAS,CACjDC,SAAS,EACTC,SAAS,EACTC,IAAK,KAHP,mBAAOG,EAAP,KAAsBC,EAAtB,KAMA,EAA0BP,mBAAS,CACjCqG,SAAS,EACTlG,IAAK,KAFP,mBAAOvB,EAAP,KAAc0H,EAAd,KAKA,EAAkCtG,oBAAS,GAA3C,mBAAOuG,EAAP,KAAkBC,EAAlB,KAmEMhG,EAAa,uCAAG,WAAOC,GAAP,mBAAAC,EAAA,yDACpBD,EAAEE,iBAEF6F,GAAa,GACbF,EAAS,CAAED,SAAS,EAAOlG,IAAK,KAE5BwE,EAAWlE,EAAEI,OAAO8D,SAAS9E,MAC/Be,EAAQH,EAAEI,OAAOD,MAAMf,MACvBiB,EAAWL,EAAEI,OAAOC,SAASjB,MARX,WAYhBsG,EAAcjG,SACdE,EAAWF,SACXI,EAAcJ,SAdE,iCAgBAa,IAAMC,KAAK,gBAAiB,CAC1C2D,WACA/D,QACAE,aAnBc,cAqBRI,OACNC,OAAOC,SAASC,QAAQ,cACxBmF,GAAa,IAvBC,0DA2BlBA,GAAa,GACe,MAAxB,KAAIC,SAASC,OACfJ,EAAS,CAAED,SAAS,EAAMlG,IAAK,0BAE/BmG,EAAS,CAAED,SAAS,EAAMlG,IAAK,yBA/Bf,0DAAH,sDA4DnB,OACE,cAACqB,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,UACE,eAACC,EAAA,EAAD,CAAKC,GAAI,EAAGC,GAAI,EAAGC,UAAU,uCAA7B,UACE,oBAAIA,UAAU,qCAAd,sBACA,eAACC,EAAA,EAAD,CAAMC,SAAUvB,EAAhB,UACE,eAACsB,EAAA,EAAKE,MAAN,CAAYH,UAAU,OAAtB,UACE,cAACC,EAAA,EAAKI,MAAN,uBACA,cAACJ,EAAA,EAAKK,QAAN,CACE1D,KAAK,OACL2D,YAAY,iBACZC,KAAK,WACLC,OAzIkB,SAAC7B,GAC/B,IAAI8B,EAAM9B,EAAEI,OAAOhB,MAAM2C,OACrBC,EAAM,eAAQ0D,GAClB1D,EAAOxC,SAAU,EACbsC,EAAIG,QAAU,GAChBD,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,yBACJoC,EAAIG,OAAS,GACtBD,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,4CACJoC,EAAIG,OAAS,KACtBD,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,+CAEbsC,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,IAEfiG,EAAiB,eAAK3D,KAyHVZ,UArCQ,WACpB,GAAIsE,EAAclG,QAChB,OAAIkG,EAAcjG,QACT,wBACK,uBAiCOyG,KAEZR,EAAchG,KACb,uBAAO0B,UAAU,kBAAjB,SAAoCsE,EAAchG,SAGtD,eAAC2B,EAAA,EAAKE,MAAN,CAAYH,UAAU,OAAOI,UAAU,4BAAvC,UACE,cAACH,EAAA,EAAKI,MAAN,4BACA,cAACJ,EAAA,EAAKK,QAAN,CACE1D,KAAK,QACL2D,YAAY,cACZC,KAAK,QACLC,OA7He,SAAC7B,GAC5B,IAAI8B,EAAM9B,EAAEI,OAAOhB,MAAM2C,OACrBC,EAAM,eAAQrC,GAClBqC,EAAOxC,SAAU,EACbsC,EAAIG,QAAU,GAChBD,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,sBAVN,eACCwC,KAUgBJ,GAGfA,EAAIG,OAAS,KACtBD,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,4CAEbsC,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,KAPbsC,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,sBAQfE,EAAc,eAAKoC,KA6GPZ,UA1CK,WACjB,GAAIzB,EAAWH,QACb,OAAIG,EAAWF,QACN,wBACK,uBAsCO0C,KAEZxC,EAAWD,KACV,uBAAO0B,UAAU,kBAAjB,SAAoCzB,EAAWD,SAGnD,eAAC2B,EAAA,EAAKE,MAAN,CAAYH,UAAU,OAAOI,UAAU,yBAAvC,UACE,cAACH,EAAA,EAAKI,MAAN,uBACA,cAACJ,EAAA,EAAKK,QAAN,CACE1D,KAAK,WACL2D,YAAY,iBACZC,KAAK,WACLQ,QAtHkB,SAACpC,GAC/B,IAAI8B,EAAM9B,EAAEI,OAAOhB,MAAM2C,OACrBC,EAAM,eAAQnC,GAClBmC,EAAOxC,SAAU,EACbsC,EAAIG,QAAU,GAChBD,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,yBACJoC,EAAIG,OAAS,GACtBD,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,4CACJoC,EAAIG,OAAS,KACtBD,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,+CAEbsC,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,IAEfI,EAAiB,eAAKkC,KAsGVZ,UA/CQ,WACpB,GAAIvB,EAAcL,QAChB,OAAIK,EAAcJ,QACT,wBACK,uBA2CO4C,KAEZxC,EAAcH,KACb,uBAAO0B,UAAU,kBAAjB,SAAoCvB,EAAcH,SAGtD,cAAC4C,EAAA,EAAD,CACEC,QAAQ,UACRvE,KAAK,SACLoD,UAAU,QACVoB,UACGkD,EAAcjG,UACdE,EAAWF,UACXI,EAAcJ,QAPnB,SAUGqG,EAAY,cAAgB,aAE9B3H,EAAMyH,SACL,qBAAKxE,UAAU,sCAAf,SACGjD,EAAMuB,iB,iBCiHRyG,EA/TK,WAClB,MAA2B7G,qBAAWZ,GAA9BT,EAAR,EAAQA,KAAMc,EAAd,EAAcA,SAEd,EAAgCQ,mBAAStB,EAAKiG,UAA9C,mBAAOA,EAAP,KAAiBkC,EAAjB,KACA,EAA0B7G,mBAAStB,EAAKkC,OAAxC,mBAAOA,EAAP,KAAckG,EAAd,KAEA,EAA0C9G,mBAAS,CACjDC,SAAS,EACTC,SAAS,EACTC,IAAK,KAHP,mBAAOgG,EAAP,KAAsBC,EAAtB,KAMA,EAAoCpG,mBAAS,CAC3CC,SAAS,EACTC,SAAS,EACTC,IAAK,KAHP,mBAAOC,EAAP,KAAmBC,EAAnB,KAMA,EAA0BL,mBAAS,IAAnC,mBAAOsF,EAAP,KAAcC,EAAd,KACA,EAAkCvF,oBAAS,GAA3C,mBAAOuG,EAAP,KAAkBC,EAAlB,KACA,EAAoCxG,oBAAS,GAA7C,mBAAO+G,EAAP,KAAmBC,EAAnB,KACA,EAA0ChH,oBAAS,GAAnD,mBAAOiH,EAAP,KAAsBC,EAAtB,KACA,EAA0ClH,oBAAS,GAAnD,mBAAOmH,GAAP,KAAsBC,GAAtB,KAEA,GAAkCpH,mBAAS,CACzCqG,SAAS,EACTgB,WAAW,IAFb,qBAAOC,GAAP,MAAkBC,GAAlB,MAKA,GAA0BvH,mBAAS,CACjCqG,SAAS,EACTlG,IAAK,KAFP,qBAAOvB,GAAP,MAAc0H,GAAd,MAKA7G,qBAAU,YACQ,uCAAG,4BAAAiB,EAAA,+EAEGK,IAAM4E,IAAN,+BAAkCjH,EAAK8E,MAF1C,OAETvC,EAFS,OAGfsE,EAAStE,EAAIC,MAHE,gDAKfI,QAAQC,IAAR,MALe,yDAAH,qDAQhBqE,KACC,CAACqB,EAAevI,EAAK8E,IAAK2D,KAE7B,IAAMK,GAAY,uCAAG,4BAAA9G,EAAA,+EAECK,IAAMC,KAAK,8BAA+B,CAC1DyG,MAAO/I,EAAK8I,eAHG,cAEXvG,EAFW,OAKjBzB,EAAS,CACPf,KAAM,gBACNI,QAAQ,2BAAMH,GAAP,IAAagJ,YAAazG,EAAIC,KAAKwG,gBAP3B,kBASVzG,EAAIC,MATM,gCAWjBI,QAAQC,IAAR,MAXiB,yDAAH,qDAeZoG,GAAW5G,IAAM6G,SAEjBC,GAAeC,YAAWpJ,EAAKgJ,aACrCC,GAASI,aAAaC,QAAQC,IAA9B,+BAAAvH,EAAA,MACE,WAAOwH,GAAP,iBAAAxH,EAAA,yDACMyH,EAAc,IAAItD,OACC,IAAnBgD,GAAaO,IAAaD,EAAYE,WAF5C,gCAGuBb,KAHvB,OAGUtG,EAHV,OAIIgH,EAAOI,QAAQ,cAAgBpH,EAAKwG,YAJxC,gCAMSQ,GANT,2CADF,uDASE,SAACK,GACC,OAAOC,QAAQC,OAAOF,MAI1B,IAAMlF,GAAQ,uCAAG,WAAOrC,GAAP,SAAAN,EAAA,+EAEGiH,GAASe,OAAT,wBAAiC1H,EAAKwC,KAAO,CAC3D8E,QAAS,CACP,aAAc5J,EAAKgJ,eAJV,gBAQXR,GAAkBD,GAClBM,GAAa,CAAElB,SAAS,EAAOgB,WAAW,KAT/B,gDAYb/F,QAAQC,IAAR,MACAgG,GAAa,CAAElB,SAAS,EAAMgB,WAAW,IAb5B,yDAAH,sDA+DR7G,GAAa,uCAAG,WAAOC,GAAP,eAAAC,EAAA,yDACpBD,EAAEE,iBADkB,SAGlB6F,GAAa,GACbF,GAAS,CAAED,SAAS,EAAOlG,IAAK,MAC5BgG,EAAcjG,UAAWE,EAAWF,QALtB,gCAMAyH,GAASgB,IAAT,wBACGjK,EAAK8E,KACtB,CAAEmB,WAAU/D,SACZ,CAAE0H,QAAS,CAAE,aAAc5J,EAAKgJ,eATlB,QAMZzG,EANY,UAadzB,EAAS,CACPf,KAAM,gBACNI,QAAQ,2BACHH,GADE,IAELiG,SAAU1D,EAAIC,KAAKyD,SACnB/D,MAAOK,EAAIC,KAAKN,UAGpB4F,GAAa,GACbY,IAAiB,IAtBH,yDA0BlBA,IAAiB,GACjBZ,GAAa,GACe,MAAxB,KAAIC,SAASC,OACfJ,GAAS,CAAED,SAAS,EAAMlG,IAAK,0BAE/BmG,GAAS,CAAED,SAAS,EAAMlG,IAAK,yBA/Bf,0DAAH,sDAmEnB,OACE,eAACqB,EAAA,EAAD,WACG8F,GAAUjB,SACT,cAACuC,EAAA,EAAD,CACE5F,QAAQ,SACR6F,QAAS,kBACPtB,GAAa,CACXlB,SAAS,EACTgB,WAAW,KAGfxF,UAAU,gBACViH,aAAW,EATb,SAWE,cAACF,EAAA,EAAMG,QAAP,CAAelH,UAAU,MAAzB,oCAGHyF,GAAUD,WACT,cAACuB,EAAA,EAAD,CACE5F,QAAQ,UACR6F,QAAS,kBACPtB,GAAa,CACXlB,SAAS,EACTgB,WAAW,KAGfxF,UAAU,gBACViH,aAAW,EATb,SAWE,cAACF,EAAA,EAAMG,QAAP,CAAelH,UAAU,MAAzB,kDAMJ,cAACJ,EAAA,EAAD,UACE,eAACC,EAAA,EAAD,CAAKC,GAAI,EAAGC,GAAI,EAAGC,UAAU,uCAA7B,WACIkF,GACA,qBAAK/B,MAAO,CAAEgE,UAAW,UAAzB,SACE,cAACjG,EAAA,EAAD,CACEC,QAAQ,UACRnB,UAAU,OACVqD,QAAS,kBAAM8B,GAAc,IAH/B,8BASHD,GACC,eAACjF,EAAA,EAAD,CAAMC,SAAUvB,GAAhB,UACE,eAACsB,EAAA,EAAKE,MAAN,CAAYH,UAAU,OAAtB,UACE,cAACC,EAAA,EAAKI,MAAN,uBACA,cAACJ,EAAA,EAAKK,QAAN,CACE1D,KAAK,OACL2D,YAAY,iBACZC,KAAK,WACLxC,MAAO8E,EACPsE,SA3KgB,SAACxI,GAC/B,IAAI8B,EAAM9B,EAAEI,OAAOhB,MACnBgH,EAAYtE,GACZ,IAAIE,EAAM,eAAQ0D,GAClB1D,EAAOxC,SAAU,EACbsC,EAAIG,QAAU,GAChBD,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,yBACJoC,EAAIG,OAAS,GACtBD,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,4CACJoC,EAAIG,OAAS,KACtBD,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,+CAEbsC,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,IAEfiG,EAAiB,eAAK3D,KA0JRZ,UAzFM,WACpB,GAAIsE,EAAclG,QAChB,OAAIkG,EAAcjG,QACT,wBACK,uBAqFSyG,KAEZR,EAAchG,KACb,uBAAO0B,UAAU,kBAAjB,SAAoCsE,EAAchG,SAGtD,eAAC2B,EAAA,EAAKE,MAAN,CACEH,UAAU,OACVI,UAAU,4BAFZ,UAIE,cAACH,EAAA,EAAKI,MAAN,4BACA,cAACJ,EAAA,EAAKK,QAAN,CACE1D,KAAK,QACL2D,YAAY,cACZC,KAAK,QACLxC,MAAOe,EACPqI,SAlKa,SAACxI,GAC5B,IAAI8B,EAAM9B,EAAEI,OAAOhB,MACnBiH,EAASvE,GACT,IAAIE,EAAM,eAAQrC,GAClBqC,EAAOxC,SAAU,EACbsC,EAAIG,QAAU,GAChBD,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,uBAZK,SAACS,GAErB,MADS,eACC+B,KAAK/B,GAWHsI,CAAc3G,IACxBE,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,sBACJoC,EAAIG,OAAS,KACtBD,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,4CAEbsC,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,IAEfE,EAAc,eAAKoC,KAiJLZ,UAlGG,WACjB,GAAIzB,EAAWH,QACb,OAAIG,EAAWF,QACN,wBACK,uBA8FS0C,KAEZxC,EAAWD,KACV,uBAAO0B,UAAU,kBAAjB,SAAoCzB,EAAWD,SAGnD,cAAC4C,EAAA,EAAD,CACEC,QAAQ,UACRvE,KAAK,SACLoD,UAAU,QACVoB,UAAWkD,EAAcjG,UAAYE,EAAWF,QAJlD,SAMGqG,EAAY,cAAgB,WAE9BY,IACC,qBAAKtF,UAAU,uCAAf,iCAIDjD,GAAMyH,SACL,qBAAKxE,UAAU,sCAAf,SACGjD,GAAMuB,cAOnB,oBAAIsF,GAAG,QAAQ5D,UAAU,0CAAzB,wBAGA,cAACJ,EAAA,EAAD,CAAKI,UAAU,6BAAf,SAxHKyD,EAAM5C,OAAS,EACpB4C,EAAMQ,KAAI,SAAC9E,GAAD,OACR,cAACU,EAAA,EAAD,CAAKC,GAAI,EAAGC,GAAI,EAAhB,SACE,cAAC,EAAD,CAAMZ,KAAMA,EAAMoC,aAAa,EAAMC,SAAUA,MADzBrC,EAAKwC,QAM/B,qBAAI3B,UAAU,OAAd,wCAC6B,cAAC,IAAD,CAAM0B,GAAG,YAAT,gC,SC/LpB4F,EAlBG,SAAC,GAAyC,IAAvCC,EAAsC,EAAtCA,UAAWC,EAA2B,EAA3BA,UAAWC,EAAgB,EAAhBA,UACzC,OACE,eAACC,EAAA,EAAD,CAAOC,KAAMJ,EAAWK,KAAK,KAAKC,UAAQ,EAACC,OAAQN,EAAnD,UACE,cAACE,EAAA,EAAMK,OAAP,CAAcC,aAAW,EAAzB,SACE,cAACN,EAAA,EAAMzF,MAAP,CAAa2B,GAAG,gCAAhB,SACG6D,EAAUvF,UAGf,cAACwF,EAAA,EAAM1F,KAAP,UACE,4BAAIyF,EAAUrF,SAEhB,cAACsF,EAAA,EAAMO,OAAP,UACE,cAAC/G,EAAA,EAAD,CAAQmC,QAASmE,EAAjB,yBC2COU,EAnDD,WACZ,MAA0B/J,mBAAS,IAAnC,mBAAOsF,EAAP,KAAcC,EAAd,KACA,EAAkCvF,mBAAS,IAA3C,mBAAOsJ,EAAP,KAAkBU,EAAlB,KACA,EAAkChK,oBAAS,GAA3C,mBAAOoJ,EAAP,KAAkBa,EAAlB,KAEAxK,qBAAU,YACQ,uCAAG,4BAAAiB,EAAA,+EAEGK,IAAM4E,IAAI,iBAFb,QAET1E,EAFS,SAGRsE,EAAStE,EAAIC,MAHL,gDAKfI,QAAQC,IAAR,MALe,yDAAH,qDAQhBqE,KACC,IAWH,OACE,eAACpE,EAAA,EAAD,WACE,oBAAIiE,GAAG,QAAQ5D,UAAU,0CAAzB,mBAGA,cAAC,EAAD,CACEuH,UAAWA,EACXC,UAXY,WAChBY,GAAa,IAWTX,UAAWA,IAEb,cAAC7H,EAAA,EAAD,CAAKI,UAAU,6BAAf,SACGyD,EAAM5C,OAAS,EACd4C,EAAMQ,KAAI,SAAC9E,GAAD,OACR,cAACU,EAAA,EAAD,CAAKC,GAAI,EAAGC,GAAI,EAAhB,SACE,cAAC,EAAD,CAAMZ,KAAMA,EAAMmC,OAAQ,kBAvBjB,SAACnC,GACpBiJ,GAAa,GACbD,EAAahJ,GAqB6BkJ,CAAalJ,OADvBA,EAAKwC,QAK/B,cAACuC,EAAA,EAAD,CAASlE,UAAU,OAAOmE,UAAU,SAASC,KAAK,iBClC7CkE,EAXF,WACX,IAAQzL,EAASqB,qBAAWZ,GAApBT,KAER,OACE,gCACE,cAACmH,EAAA,EAAD,CAAM9B,MAAOrF,GAAI,kBAAeA,EAAKiG,SAApB,mBACjB,cAAC,EAAD,Q,gCCISyF,E,uKAZb,WACEC,KAAKC,MAAMC,QAAQlJ,QAAQ,gB,oBAE7B,WACE,OACE,8BACE,cAACwE,EAAA,EAAD,CAAM9B,MAAM,wB,GAPGyG,IAAMC,W,SC0OdC,EAtOC,SAACJ,GACf,MAA2BvK,qBAAWZ,GAA9BT,EAAR,EAAQA,KAAMc,EAAd,EAAcA,SACd,EAA0BQ,mBAAS,MAAnC,mBAAO2K,EAAP,KAAcC,EAAd,KACA,EAAkC5K,oBAAS,GAA3C,mBAAOuG,EAAP,KAAkBC,EAAlB,KACA,EAAoCxG,oBAAS,GAA7C,mBAAO6K,EAAP,KAAmBC,EAAnB,KAEA,EAAoC9K,mBAAS,CAC3CC,SAAS,EACTC,SAAS,EACTC,IAAK,KAHP,mBAAO4K,EAAP,KAAmBC,EAAnB,KAMA,EAAkChL,mBAAS,CACzCC,SAAS,EACTC,SAAS,EACTC,IAAK,KAHP,mBAAO8K,EAAP,KAAkBC,EAAlB,KAMA,EAA0BlL,mBAAS,CACjCqG,SAAS,EACTlG,IAAK,KAFP,mBAAOvB,EAAP,KAAc0H,EAAd,KA+DMkB,EAAY,uCAAG,4BAAA9G,EAAA,+EAECK,IAAMC,KAAK,8BAA+B,CAC1DyG,MAAO/I,EAAK8I,eAHG,cAEXvG,EAFW,OAKjBzB,EAAS,CACPf,KAAM,gBACNI,QAAQ,2BAAMH,GAAP,IAAagJ,YAAazG,EAAIC,KAAKwG,gBAP3B,kBASVzG,EAAIC,MATM,gCAWjBI,QAAQC,IAAR,MAXiB,yDAAH,qDAeZoG,EAAW5G,IAAM6G,SAEvBD,EAASI,aAAaC,QAAQC,IAA9B,+BAAAvH,EAAA,MACE,WAAOwH,GAAP,iBAAAxH,EAAA,yDACMyH,EAAc,IAAItD,OAEC,IADFiD,YAAWpJ,EAAKgJ,aACpBU,IAAaD,EAAYE,WAH5C,gCAIuBb,IAJvB,OAIUtG,EAJV,OAKIgH,EAAOI,QAAQ,cAAgBpH,EAAKwG,YALxC,gCAOSQ,GAPT,2CADF,uDAUE,SAACK,GACC,OAAOC,QAAQC,OAAOF,MAI1B,IAAM4C,EAAc,uCAAG,WAAO1K,GAAP,iBAAAC,EAAA,yDACrBD,EAAEE,iBADmB,WAGfoK,EAAW7K,SAAW+K,EAAU/K,SAAWyK,GAH5B,wBAIbS,EAAW,IAAIC,UACVC,OAAO,QAAS7K,EAAEI,OAAOkD,MAAMlE,OACxCuL,EAASE,OAAO,OAAQ7K,EAAEI,OAAOoD,KAAKpE,OACtCuL,EAASE,OAAO,QAASX,GAEzBnE,GAAa,GATI,UAWDmB,EAAS,CACvB4D,OAAQ,OACRC,IAAK,gBACLtK,KAAMkK,EACN9C,QAAS,CACP,aAAc5J,EAAKgJ,YACnB,eAAgB,yBAjBH,SAWbzG,EAXa,QAqBTC,OACNsF,GAAa,GACbsE,GAAc,GACd3J,OAAOC,SAASC,QAAhB,qBAAsCJ,EAAIC,KAAKsC,MAC/C/C,EAAEI,OAAO4K,SAzBM,0DA6BnBjF,GAAa,GACbsE,GAAc,GACc,MAAxB,KAAIrE,SAASC,OACfJ,EAAS,CAAED,SAAS,EAAMlG,IAAK,mBAE/BmG,EAAS,CAAED,SAAS,EAAMlG,IAAK,yBAlCd,0DAAH,sDAuCpB,OACE,cAACqB,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,UACE,eAACC,EAAA,EAAD,CAAKC,GAAI,EAAGC,GAAI,EAAGC,UAAU,uCAA7B,UACE,oBAAIA,UAAU,qCAAd,sBACA,eAACC,EAAA,EAAD,CAAMC,SAAUoJ,EAAhB,UACE,eAACrJ,EAAA,EAAKE,MAAN,CAAYH,UAAU,OAAtB,UACE,cAACC,EAAA,EAAKI,MAAN,yBACA,cAACJ,EAAA,EAAKK,QAAN,CACE1D,KAAK,OACL2D,YAAY,cACZC,KAAK,QACLR,UAnGK,WACjB,GAAIkJ,EAAW9K,QACb,OAAI8K,EAAW7K,QACN,wBACK,uBA+FOwL,GACXpJ,OA9Ie,SAAC7B,GAC5B,IAAI8B,EAAM9B,EAAEI,OAAOhB,MAAM2C,OACrBC,EAAM,eAAQsI,GAClBtI,EAAOxC,SAAU,EAEbsC,EAAIG,QAAU,GAChBD,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,sBACJoC,EAAIG,OAAS,GACtBD,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,yCACJoC,EAAIG,OAAS,KACtBD,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,4CAEbsC,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,IAEf6K,EAAc,eAAKvI,KA6HPkJ,WAAS,IAEVZ,EAAW5K,KACV,uBAAO0B,UAAU,kBAAjB,SAAoCkJ,EAAW5K,SAInD,eAAC2B,EAAA,EAAKE,MAAN,CACEH,UAAU,OACVI,UAAU,+BAFZ,UAIE,cAACH,EAAA,EAAKI,MAAN,wBACA,cAACJ,EAAA,EAAKK,QAAN,CACEyJ,GAAG,WACHC,KAAM,EACNxJ,KAAK,OACLR,UA7GI,WAChB,GAAIoJ,EAAUhL,QACZ,OAAIgL,EAAU/K,QACL,wBACK,uBAyGO4L,GACX7C,SA3Ic,SAACxI,GAC3B,IAAI8B,EAAM9B,EAAEI,OAAOhB,MAAM2C,OACrBC,EAAM,eAAQwI,GAClBxI,EAAOxC,SAAU,EAEbsC,EAAIG,QAAU,GAChBD,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,qBACJoC,EAAIG,OAAS,GACtBD,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,wCACJoC,EAAIG,OAAS,KACtBD,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,6CAEbsC,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,IAEf+K,EAAa,eAAKzI,OA2HPwI,EAAU9K,KACT,uBAAO0B,UAAU,kBAAjB,SAAoCoJ,EAAU9K,SAGlD,eAAC2B,EAAA,EAAKE,MAAN,CAAYC,UAAU,WAAWJ,UAAU,OAA3C,UACE,cAACC,EAAA,EAAKI,MAAN,yBACA,qBAAKL,UAAU,qCAAf,SACE,cAACH,EAAA,EAAD,CAAKqK,GAAI,EAAGpK,GAAI,EAAhB,SACGgJ,GACC,cAACqB,EAAA,EAAD,CAAOtI,IAAKuI,IAAIC,gBAAgBvB,GAAQwB,WAAS,QAIvD,cAACrK,EAAA,EAAKK,QAAN,CACE1D,KAAK,OACL4D,KAAK,QACL+J,OAAO,qEACPnD,SAAU,SAACxI,GAAD,OAAOmK,EAASnK,EAAEI,OAAOwL,MAAM,UAG7C,cAACtJ,EAAA,EAAD,CACEC,QAAQ,UACRvE,KAAK,SACLoD,UAAU,QACVoB,UAAW8H,EAAW7K,UAAY+K,EAAU/K,UAAYyK,EAJ1D,SAMGpE,EAAY,cAAgB,oBAGhC3H,EAAMyH,SACL,qBAAKxE,UAAU,sCAAf,SACGjD,EAAMuB,MAGV0K,GACC,qBAAKhJ,UAAU,uCAAf,6C,kBCrJG+H,EAvEO,WACpB,MAA2B7J,qBAAWZ,GAA9BT,EAAR,EAAQA,KAAMc,EAAd,EAAcA,SAER8M,EAAY,uCAAG,sBAAA5L,EAAA,+EAEDK,IAAMC,KAAK,uBAAwB,CACjDyG,MAAO/I,EAAK8I,eAHG,gBAMfhI,EAAS,CAAEf,KAAM,WACjB0C,OAAOC,SAASC,QAAQ,SAPT,gDAUjBF,OAAOC,SAASC,QAAQ,QAVP,yDAAH,qDAclB,OACE,cAACkL,EAAA,EAAD,CAAQC,kBAAgB,EAACC,OAAO,KAAKC,GAAG,OAAO1J,QAAQ,OAAO2J,OAAO,MAArE,SACE,eAACnL,EAAA,EAAD,WACE,cAAC+K,EAAA,EAAOK,MAAR,UACE,cAAC,IAAD,CAAM/K,UAAU,aAAa0B,GAAI,IAAjC,yBAIF,cAACgJ,EAAA,EAAOM,OAAR,CAAe,gBAAc,0BAC7B,cAACN,EAAA,EAAOO,SAAR,CACErH,GAAG,wBACH5D,UAAU,sBAFZ,SAIE,eAACkL,EAAA,EAAD,CAAKlL,UAAU,GAAf,UACE,cAAC,IAAD,CAASA,UAAU,WAAWmL,OAAK,EAACzJ,GAAG,IAAvC,kBAGE7E,EASE,KARF,qCACE,cAAC,IAAD,CAASmD,UAAU,WAAW0B,GAAG,SAAjC,mBAGA,cAAC,IAAD,CAAS1B,UAAU,WAAW0B,GAAG,YAAjC,yBAKH7E,EACC,qCACE,cAAC,IAAD,CAASmD,UAAU,WAAW0B,GAAG,YAAjC,mBAGA,cAAC,IAAD,CAAS1B,UAAU,WAAW0B,GAAG,gBAAjC,qBAGA,sBACE1B,UAAU,WACVmD,MAAO,CAAEiI,OAAQ,WACjB/H,QAASoH,EAHX,uBAQA,KACJ,cAAC,IAAD,CAASzK,UAAU,WAAW0B,GAAG,SAAjC,gCC3DGuG,EARA,WACb,OACE,wBAAQjI,UAAU,6CAAlB,SACE,oBAAIA,UAAU,sBAAd,sCCkPSqL,EA9OE,WACf,MAA2BnN,qBAAWZ,GAA9BT,EAAR,EAAQA,KAAMc,EAAd,EAAcA,SAER2N,EAASzH,cAAYD,GAE3B,EADiBD,cACiCjH,MAA1C4G,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,SAAUzB,EAA7B,EAA6BA,QAE7B,EAA0B3D,mBAASmF,GAAnC,mBAAOpB,EAAP,KAAcqJ,EAAd,KACA,EAAwBpN,mBAASoF,GAAjC,mBAAOnB,EAAP,KAAaoJ,EAAb,KACA,EAA0BrN,mBAAS,MAAnC,mBAAO2K,EAAP,KAAcC,EAAd,KACA,EAAkC5K,oBAAS,GAA3C,mBAAOuG,EAAP,KAAkBC,EAAlB,KACA,EAAoCxG,oBAAS,GAA7C,mBAAO6K,EAAP,KAAmBC,EAAnB,KAEA,EAAoC9K,mBAAS,CAC3CC,SAAS,EACTC,SAAS,EACTC,IAAK,KAHP,mBAAO4K,EAAP,KAAmBC,EAAnB,KAMA,EAAkChL,mBAAS,CACzCC,SAAS,EACTC,SAAS,EACTC,IAAK,KAHP,mBAAO8K,EAAP,KAAkBC,EAAlB,KAKA,EAA0BlL,mBAAS,CACjCqG,SAAS,EACTlG,IAAK,KAFP,mBAAOvB,GAAP,KAAc0H,GAAd,KA+DMkB,GAAY,uCAAG,4BAAA9G,EAAA,+EAECK,IAAMC,KAAK,8BAA+B,CAC1DyG,MAAO/I,EAAK8I,eAHG,cAEXvG,EAFW,OAKjBzB,EAAS,CACPf,KAAM,gBACNI,QAAQ,2BAAMH,GAAP,IAAagJ,YAAazG,EAAIC,KAAKwG,gBAP3B,kBASVzG,EAAIC,MATM,gCAWjBI,QAAQC,IAAR,MAXiB,yDAAH,qDAeZoG,GAAW5G,IAAM6G,SAEvBD,GAASI,aAAaC,QAAQC,IAA9B,+BAAAvH,EAAA,MACE,WAAOwH,GAAP,iBAAAxH,EAAA,yDACMyH,EAAc,IAAItD,OAEC,IADFiD,YAAWpJ,EAAKgJ,aACpBU,IAAaD,EAAYE,WAH5C,gCAIuBb,KAJvB,OAIUtG,EAJV,OAKIgH,EAAOI,QAAQ,cAAgBpH,EAAKwG,YALxC,gCAOSQ,GAPT,2CADF,uDAUE,SAACK,GACC,OAAOC,QAAQC,OAAOF,MAI1B,IAAM4C,GAAc,uCAAG,WAAO1K,GAAP,eAAAC,EAAA,yDACrBD,EAAEE,iBADmB,UAGfoK,EAAW7K,UAAW+K,EAAU/K,QAHjB,wBAIbkL,EAAW,IAAIC,UACVC,OAAO,QAASvH,GACzBqH,EAASE,OAAO,OAAQrH,GACxB0G,GAASS,EAASE,OAAO,QAASX,GAClCnE,GAAa,GARI,UAUDmB,GAAS,CACvB4D,OAAQ,MACRC,IAAI,iBAAD,OAAmB2B,GACtBjM,KAAMkK,EACN9C,QAAS,CACP,aAAc5J,EAAKgJ,YACnB,eAAgB,yBAhBH,eAoBTxG,OACNsF,GAAa,GACbsE,GAAc,IAtBC,0DA0BnBxJ,QAAQC,IAAR,MACAiF,GAAa,GACbsE,GAAc,GACc,MAAxB,KAAIrE,SAASC,OACfJ,GAAS,CAAED,SAAS,EAAMlG,IAAK,mBAE/BmG,GAAS,CAAED,SAAS,EAAMlG,IAAK,yBAhCd,0DAAH,sDAqCpB,OACE,cAACqB,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,UACE,eAACC,EAAA,EAAD,CAAKC,GAAI,EAAGC,GAAI,EAAGC,UAAU,uCAA7B,UACE,oBAAIA,UAAU,qCAAd,yBACA,eAACC,EAAA,EAAD,CAAMC,SAAUoJ,GAAhB,UACE,eAACrJ,EAAA,EAAKE,MAAN,CAAYH,UAAU,OAAtB,UACE,cAACC,EAAA,EAAKI,MAAN,yBACA,cAACJ,EAAA,EAAKK,QAAN,CACE1D,KAAK,OACLoB,MAAOkE,EACP1B,KAAK,QACLR,UAjGK,WACjB,GAAIkJ,EAAW9K,QACb,OAAI8K,EAAW7K,QACN,wBACK,uBA6FOwL,GACXzC,SA5Ie,SAACxI,GAC5B,IAAI8B,EAAM9B,EAAEI,OAAOhB,MACnBuN,EAAS7K,GACT,IAAIE,EAAM,eAAQsI,GAClBtI,EAAOxC,SAAU,EACbsC,EAAIG,QAAU,GAChBD,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,sBACJoC,EAAIG,OAAS,GACtBD,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,yCACJoC,EAAIG,OAAS,KACtBD,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,4CAEbsC,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,IAEf6K,EAAc,eAAKvI,OA4HRsI,EAAW5K,KACV,uBAAO0B,UAAU,kBAAjB,SAAoCkJ,EAAW5K,SAGnD,eAAC2B,EAAA,EAAKE,MAAN,CACEH,UAAU,OACVI,UAAU,+BAFZ,UAIE,cAACH,EAAA,EAAKI,MAAN,wBACA,cAACJ,EAAA,EAAKK,QAAN,CACEyJ,GAAG,WACH/L,MAAOoE,EACP4H,KAAM,EACNxJ,KAAK,OACLR,UA1GI,WAChB,GAAIoJ,EAAUhL,QACZ,OAAIgL,EAAU/K,QACL,wBACK,uBAsGO4L,GACX7C,SAxIc,SAACxI,GAC3B,IAAI8B,EAAM9B,EAAEI,OAAOhB,MACnBwN,EAAQ9K,GACR,IAAIE,EAAM,eAAQwI,GAClBxI,EAAOxC,SAAU,EACbsC,EAAIG,QAAU,GAChBD,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,qBACJoC,EAAIG,OAAS,GACtBD,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,wCACJoC,EAAIG,OAAS,KACtBD,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,6CAEbsC,EAAOvC,SAAU,EACjBuC,EAAOtC,IAAM,IAEf+K,EAAa,eAAKzI,OAwHPwI,EAAU9K,KACT,uBAAO0B,UAAU,kBAAjB,SAAoCoJ,EAAU9K,SAGlD,eAAC2B,EAAA,EAAKE,MAAN,CAAYC,UAAU,WAAWJ,UAAU,OAA3C,UACE,cAACC,EAAA,EAAKI,MAAN,yBACA,qBAAKL,UAAU,qCAAf,SACE,cAACH,EAAA,EAAD,CAAKqK,GAAI,EAAGpK,GAAI,EAAhB,SACGgJ,EACC,cAACqB,EAAA,EAAD,CAAOtI,IAAKuI,IAAIC,gBAAgBvB,GAAQwB,WAAS,IAEjD,cAACH,EAAA,EAAD,CACEtI,IAAG,qEAAgEC,GACnEwI,WAAS,QAKjB,cAACrK,EAAA,EAAKK,QAAN,CACE1D,KAAK,OACL4D,KAAK,QACL+J,OAAO,qEACPnD,SAAU,SAACxI,GAAD,OAAOmK,EAASnK,EAAEI,OAAOwL,MAAM,UAG7C,cAACtJ,EAAA,EAAD,CACEC,QAAQ,UACRvE,KAAK,SACLoD,UAAU,QACVoB,UAAW8H,EAAW7K,UAAY+K,EAAU/K,QAJ9C,SAMGqG,EAAY,cAAgB,mBAGhC3H,GAAMyH,SACL,qBAAKxE,UAAU,sCAAf,SACGjD,GAAMuB,MAGV0K,GACC,qBAAKhJ,UAAU,uCAAf,+CC/CGyL,GA7KK,SAAChD,GACnB,MAA2BvK,qBAAWZ,GAA9BT,EAAR,EAAQA,KAAMc,EAAd,EAAcA,SACNiG,EAAOC,cAAPD,GACR,EAAwBzF,mBAAS,MAAjC,mBAAOgB,EAAP,KAAauM,EAAb,KACA,EAAkCvN,mBAAS,CACzCqG,SAAS,EACTgB,WAAW,IAFb,mBAAOC,EAAP,KAAkBC,EAAlB,KAKA9H,qBAAU,YACO,uCAAG,4BAAAiB,EAAA,sEACEK,IAAM4E,IAAN,wBAA2BF,IAD7B,OACVxE,EADU,OAEhBsM,EAAQtM,EAAIC,MAFI,2CAAH,qDAIfsM,KACC,CAAC/H,IAEJ,IAAMkC,EAAW5G,IAAM6G,SACvB,GAAIlJ,EAAM,CACR,IAAM8I,EAAY,uCAAG,4BAAA9G,EAAA,+EAECK,IAAMC,KAAK,8BAA+B,CAC1DyG,MAAO/I,EAAK8I,eAHG,cAEXvG,EAFW,OAKjBzB,EAAS,CACPf,KAAM,gBACNI,QAAQ,2BAAMH,GAAP,IAAagJ,YAAazG,EAAIC,KAAKwG,gBAP3B,kBASVzG,EAAIC,MATM,gCAWjBI,QAAQC,IAAR,MAXiB,yDAAH,qDAgBZsG,EAAeC,YAAWpJ,EAAKgJ,aACrCC,EAASI,aAAaC,QAAQC,IAA9B,+BAAAvH,EAAA,MACE,WAAOwH,GAAP,iBAAAxH,EAAA,yDACMyH,EAAc,IAAItD,OACC,IAAnBgD,EAAaO,IAAaD,EAAYE,WAF5C,gCAGuBb,IAHvB,OAGUtG,EAHV,OAIIgH,EAAOI,QAAQ,cAAgBpH,EAAKwG,YAJxC,gCAMSQ,GANT,2CADF,uDASE,SAACK,GACC,OAAOC,QAAQC,OAAOF,MAI5B,IAAMlF,EAAQ,uCAAG,WAAO8J,GAAP,SAAAzM,EAAA,+EAEGiH,EAASe,OAAT,wBAAiCyE,GAAU,CACzD7E,QAAS,CACP,aAAc5J,EAAKgJ,eAJV,gBAQXH,EAAa,CAAElB,SAAS,EAAOgB,WAAW,IAC1CoG,WAAWtM,OAAOC,SAASC,QAAQ,QAAS,MATjC,gDAYbkG,EAAa,CAAElB,SAAS,EAAMgB,WAAW,IAZ5B,yDAAH,sDAgBd,OAAOrG,EACL,eAACQ,EAAA,EAAD,WACG8F,EAAUjB,SACT,cAACuC,EAAA,EAAD,CACE5F,QAAQ,SACR6F,QAAS,kBACPtB,EAAa,CACXlB,SAAS,EACTgB,WAAW,KAGfxF,UAAU,gBACViH,aAAW,EATb,SAWE,cAACF,EAAA,EAAMG,QAAP,CAAelH,UAAU,MAAzB,oCAGHyF,EAAUD,WACT,cAACuB,EAAA,EAAD,CACE5F,QAAQ,UACR6F,QAAS,kBACPtB,EAAa,CACXlB,SAAS,EACTgB,WAAW,KAGfxF,UAAU,gBACViH,aAAW,EATb,SAWE,cAACF,EAAA,EAAMG,QAAP,CAAelH,UAAU,MAAzB,kDAKJ,eAACyB,EAAA,EAAD,CAAMzB,UAAU,OAAhB,UACE,qBAAKmD,MAAO,CAAEgE,UAAW,UAAzB,SACE,cAAC1F,EAAA,EAAKG,IAAN,CACE5B,UAAU,YACV6B,IACE1C,EAAK2C,QAAL,qEACkE3C,EAAK2C,SACnEC,MAIV,eAACN,EAAA,EAAKO,KAAN,WACE,sBAAKhC,UAAU,mBAAf,UACE,cAACyB,EAAA,EAAKQ,MAAN,UAAa9C,EAAK+C,QAClB,cAACT,EAAA,EAAKU,KAAN,CAAWnC,UAAU,eAAemD,MAAO,CAAE0I,WAAY,GAAzD,SACG1M,EAAKiD,UAGV,eAACO,EAAA,EAAD,CAAWxB,QAAQ,QAAnB,UACE,cAACwB,EAAA,EAAUC,KAAX,UACG/F,GAAQA,EAAK8E,MAAQxC,EAAK0D,UAAUlB,IACnC,cAAC,IAAD,CAAM3B,UAAU,gBAAgB0B,GAAG,gBAAnC,SACGvC,EAAK0D,UAAY1D,EAAK0D,UAAUC,SAAW,SAG9C,cAAC,IAAD,CACE9C,UAAU,gBACV0B,GAAI,CACFqB,SAAS,YAAD,OAAc5D,EAAK0D,UAAUlB,KACrCjF,MAAO,CACLoG,SAAU3D,EAAK0D,UAAUC,WAL/B,SASG3D,EAAK0D,UAAY1D,EAAK0D,UAAUC,SAAW,WAIlD,cAACH,EAAA,EAAUC,KAAX,UACG,IAAII,KAAK7D,EAAK8D,WAAWC,iBAE3BrG,GAAQA,EAAK8E,MAAQxC,EAAK0D,UAAUlB,IACnC,eAACgB,EAAA,EAAUC,KAAX,WACE,cAAC,IAAD,CACE5C,UAAU,kBACV0B,GAAI,CACFqB,SAAS,cAAD,OAAgB5D,EAAKwC,KAC7BjF,MAAO,CACL4G,UAAWnE,EAAK+C,MAChBqB,SAAUpE,EAAKiD,KACfN,QAAS3C,EAAK2C,UAGlBqB,MAAO,CAAEC,YAAa,OAVxB,uBAcA,cAAClC,EAAA,EAAD,CAAQC,QAAQ,SAASkC,QAAS,kBAAM7B,EAASoC,IAAjD,4BAIA,iBAMZ,qBAAK5D,UAAU,oCAAf,SACE,cAACkE,EAAA,EAAD,CAASC,UAAU,SAASC,KAAK,cClKjC0H,GAAQnD,IAAMoD,MAAK,kBAAM,uDA4DhBC,GA1DH,WACV,IAAQnP,EAASqB,qBAAWZ,GAApBT,KAER,OACE,mCAEE,eAAC,IAAD,CAAeoP,SAAS,OAAxB,UACE,cAAC,EAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAK,IAAIf,OAAK,EAACgB,UAAW7D,IACjC,cAAC,IAAD,CAAO4D,KAAK,SAASC,UAAWlO,IAChC,cAAC,IAAD,CAAOiO,KAAK,YAAYC,UAAW9H,IACnC,cAAC,IAAD,CAAO6H,KAAK,eAAeC,UAAW3I,IACtC,cAAC,IAAD,CAAO0I,KAAK,aAAaC,UAAWV,KACpC,cAAC,IAAD,CACES,KAAK,SACLE,OAAQ,WACN,OACE,cAAC,WAAD,CACEC,SACE,qBAAKrM,UAAU,gCAAf,SACE,cAACkE,EAAA,EAAD,CACElE,UAAU,OACVmE,UAAU,SACVC,KAAK,aANb,SAWE,cAAC0H,GAAD,SAKPjP,EACC,qCACE,cAAC,IAAD,CAAOqP,KAAK,gBAAgBC,UAAWpH,IACvC,cAAC,IAAD,CAAOmH,KAAK,YAAYC,UAAWtD,IACnC,cAAC,IAAD,CAAOqD,KAAK,iBAAiBC,UAAWd,OAG1C,qCACE,cAAC,IAAD,CAAUiB,KAAK,gBAAgB5K,GAAG,WAClC,cAAC,IAAD,CAAU4K,KAAK,YAAY5K,GAAG,WAC9B,cAAC,IAAD,CAAU4K,KAAK,iBAAiB5K,GAAG,cAIvC,cAAC,IAAD,CAAU4K,KAAK,QAAQ5K,GAAG,MAC1B,cAAC,IAAD,CAAOyK,UAAW5D,OAGpB,cAAC,EAAD,UCrERgE,IAASH,OACP,cAAC,IAAMI,WAAP,UACE,cAAC,EAAD,UACE,cAAC,GAAD,QAGJC,SAASC,eAAe,U,2CCAX1I,IAZF,SAAC,GAAe,IAAb9B,EAAY,EAAZA,MACd,OACE,qBAAKlC,UAAU,wDAAf,SACE,qBAAKA,UAAU,gCAAf,SACE,oBAAIA,UAAU,4BAAd,SACGkC,GAAgB,8B","file":"static/js/main.b52d220e.chunk.js","sourcesContent":["const Reducer = (state, action) => {\n  switch (action.type) {\n    case \"LOGIN_START\":\n      return {\n        user: null,\n        isFetching: true,\n        error: false,\n      };\n    case \"LOGIN_SUCCESS\":\n      return { user: action.payload, isFetching: false, error: false };\n    case \"LOGIN_FAILURE\":\n      return { user: null, isFetching: false, error: true };\n    case \"LOGOUT\":\n      return { user: null, isFetching: false, error: false };\n    default:\n      return state;\n  }\n};\n\nexport default Reducer;\n","import { createContext, useReducer, useEffect } from \"react\";\nimport Reducer from \"./Reducer\";\n\nconst INITIAL_STATE = {\n  user: JSON.parse(localStorage.getItem(\"user\")) || null,\n  isFetching: false,\n  error: false,\n};\n\nexport const Context = createContext(INITIAL_STATE);\n\nexport const ContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(Reducer, INITIAL_STATE);\n\n  useEffect(() => {\n    localStorage.setItem(\"user\", JSON.stringify(state.user));\n  }, [state.user]);\n\n  return (\n    <Context.Provider\n      value={{\n        user: state.user,\n        isFetching: state.isFetching,\n        error: state.error,\n        dispatch,\n      }}\n    >\n      {children}\n    </Context.Provider>\n  );\n};\n","import axios from \"axios\";\nimport { useContext, useState } from \"react\";\nimport { Context } from \"../context/Context\";\nimport { Button, Container, Form, Row, Col } from \"react-bootstrap\";\n\nconst Login = () => {\n  const { dispatch, isFetching, error } = useContext(Context);\n\n  const [emailValid, setEmailValid] = useState({\n    touched: false,\n    isValid: false,\n    msg: \"\",\n  });\n\n  const [passwordValid, setPasswordValid] = useState({\n    touched: false,\n    isValid: false,\n    msg: \"\",\n  });\n\n  const validateEmail = (email) => {\n    var re = /\\S+@\\S+\\.\\S+/;\n    return re.test(email);\n  };\n\n  const checkEmailValidation = (e) => {\n    let val = e.target.value.trim();\n    let valids = { ...emailValid };\n    valids.touched = true;\n    if (val.length <= 0) {\n      valids.isValid = false;\n      valids.msg = \"Email is required.\";\n    } else if (!validateEmail(val)) {\n      valids.isValid = false;\n      valids.msg = \"Email is not valid\";\n    } else if (val.length > 100) {\n      valids.isValid = false;\n      valids.msg = \"Email must be less than 100 characters.\";\n    } else {\n      valids.isValid = true;\n      valids.msg = \"\";\n    }\n    setEmailValid({ ...valids });\n  };\n\n  const checkPasswordValidation = (e) => {\n    let val = e.target.value.trim();\n    let valids = { ...passwordValid };\n    valids.touched = true;\n    if (val.length <= 0) {\n      valids.isValid = false;\n      valids.msg = \"Password is required.\";\n    } else if (val.length > 255) {\n      valids.isValid = false;\n      valids.msg = \"Password must be less than 255 characters.\";\n    } else {\n      valids.isValid = true;\n      valids.msg = \"\";\n    }\n    setPasswordValid({ ...valids });\n  };\n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n    dispatch({ type: \"LOGIN_START\" });\n    let email = e.target.email.value,\n      password = e.target.password.value;\n    try {\n      if (emailValid.isValid && passwordValid.isValid) {\n        let res = await axios.post(\"/api/v1/users/login\", { email, password });\n        dispatch({ type: \"LOGIN_SUCCESS\", payload: res.data });\n        window.location.replace(\"/app\");\n      }\n    } catch (err) {\n      dispatch({ type: \"LOGIN_FAILURE\" });\n      console.log(err);\n    }\n  };\n\n  const emailStyle = () => {\n    if (emailValid.touched) {\n      if (emailValid.isValid) {\n        return \"border border-success\";\n      } else return \"border border-danger\";\n    }\n  };\n\n  const passwordStyle = () => {\n    if (passwordValid.touched) {\n      if (passwordValid.isValid) {\n        return \"border border-success\";\n      } else return \"border border-danger\";\n    }\n  };\n\n  return (\n    <Container>\n      <Row>\n        <Col md={6} lg={4} className=\" mx-auto bg-light p-4 my-4 shadow-sm\">\n          <h2 className=\" text-center h4 m-3 text-secondary\">Login</h2>\n          <Form onSubmit={submitHandler}>\n            <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput1\">\n              <Form.Label>Email address</Form.Label>\n              <Form.Control\n                type=\"email\"\n                placeholder=\"Enter email\"\n                name=\"email\"\n                onBlur={checkEmailValidation}\n                className={emailStyle()}\n              />\n              {emailValid.msg && (\n                <small className=\"text-danger p-1\">{emailValid.msg}</small>\n              )}\n            </Form.Group>\n            <Form.Group className=\"mb-3\" controlId=\"formPlaintextPassword\">\n              <Form.Label>Password</Form.Label>\n              <Form.Control\n                type=\"password\"\n                placeholder=\"Enter password\"\n                name=\"password\"\n                onKeyUp={checkPasswordValidation}\n                className={passwordStyle()}\n              />\n              {passwordValid.msg && (\n                <small className=\"text-danger p-1\">{passwordValid.msg}</small>\n              )}\n            </Form.Group>\n            <Button\n              variant=\"primary\"\n              type=\"submit\"\n              className=\"w-100\"\n              disabled={!emailValid.isValid || !passwordValid.isValid}\n            >\n              {isFetching ? \"Loading ...\" : \"Login\"}\n            </Button>\n            {error && (\n              <div className=\"alert alert-danger text-center my-2\">\n                Invalid email or password\n              </div>\n            )}\n          </Form>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default Login;\n","export default __webpack_public_path__ + \"static/media/defaultImg.11e9da86.jpg\";","import { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Context } from \"../../context/Context\";\nimport { Card, Button, ListGroup } from \"react-bootstrap\";\nimport defaultImg from \"../../assets/images/defaultImg.jpg\";\n\nconst Post = ({ post, onShow, userProfile, onDelete }) => {\n  const { user } = useContext(Context);\n\n  // Cut post body\n  const cutString = () => {\n    if (post.body.length < 150) return post.body;\n    let trimmedString = post.body.substr(0, 150);\n    trimmedString = trimmedString.substr(\n      0,\n      Math.min(trimmedString.length, trimmedString.lastIndexOf(\" \"))\n    );\n    return `${trimmedString} . . .`;\n  };\n\n  return (\n    <Card className=\"mb-4 mx-4 mx-lg-0\">\n      <Link to={`/posts/${post._id}`}>\n        <Card.Img\n          variant=\"top\"\n          src={\n            post.postImg\n              ? `https://azstorageabdelrazek.blob.core.windows.net/postimgs/${post.postImg}`\n              : defaultImg\n          }\n        />\n      </Link>\n      <Card.Body>\n        <div className=\"px-1 text-center\">\n          <Card.Title>{post.title}</Card.Title>\n          <Card.Text>{cutString()}</Card.Text>\n        </div>\n        <ListGroup variant=\"flush\">\n          <ListGroup.Item>\n            {user && user._id === post.createdBy._id ? (\n              <Link className=\"username-link\" to=\"/edit-profile\">\n                {post.createdBy ? post.createdBy.username : \"user\"}\n              </Link>\n            ) : (\n              <Link\n                className=\"username-link\"\n                to={{\n                  pathname: `/profile/${post.createdBy._id}`,\n                  state: {\n                    username: post.createdBy.username,\n                  },\n                }}\n              >\n                {post.createdBy ? post.createdBy.username : \"user\"}\n              </Link>\n            )}\n          </ListGroup.Item>\n          <ListGroup.Item>\n            {new Date(post.createdAt).toDateString()}\n          </ListGroup.Item>\n          <ListGroup.Item>\n            <Link\n              className=\"btn btn-primary\"\n              style={{ marginRight: \"5px\" }}\n              to={`/posts/${post._id}`}\n            >\n              Open Post\n            </Link>\n            {!userProfile && (\n              <Button variant=\"primary\" onClick={() => onShow(post)}>\n                Open Modal\n              </Button>\n            )}\n            {userProfile && (\n              <>\n                <Link\n                  className=\"btn btn-primary\"\n                  to={{\n                    pathname: `/edit-post/${post._id}`,\n                    state: {\n                      postTitle: post.title,\n                      postBody: post.body,\n                      postImg: post.postImg,\n                    },\n                  }}\n                  style={{ marginRight: \"5px\" }}\n                >\n                  Edit Post\n                </Link>\n                <Button variant=\"danger\" onClick={() => onDelete(post)}>\n                  Delete Post\n                </Button>\n              </>\n            )}\n          </ListGroup.Item>\n        </ListGroup>\n      </Card.Body>\n    </Card>\n  );\n};\n\nexport default Post;\n","import axios from \"axios\";\nimport Head from \"../components/blog/Head\";\nimport Post from \"../components/blog/Post\";\nimport { useEffect, useState } from \"react\";\nimport { useLocation, useParams } from \"react-router-dom\";\nimport { Container, Row, Spinner, Col } from \"react-bootstrap\";\n\nconst Profile = () => {\n  const [posts, setPosts] = useState([]);\n\n  const location = useLocation();\n  const { id } = useParams();\n  const { username } = location.state;\n\n  useEffect(() => {\n    const fetchPosts = async () => {\n      try {\n        const res = await axios.get(`/api/v1/posts?userId=${id}`);\n        setPosts(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchPosts();\n  }, [id]);\n\n  const renderPosts = () => {\n    return posts.length > 0 ? (\n      posts.map((post) => (\n        <Col md={6} lg={4} key={post._id}>\n          <Post post={post} />\n        </Col>\n      ))\n    ) : (\n      <Spinner animation=\"border\" role=\"status\" />\n    );\n  };\n\n  return (\n    <>\n      <Head title={`${username}`} />\n      <Container>\n        <h2 id=\"posts\" className=\"h3 border-bottom mb-4 pb-4 text-primary\">\n          {username} posts\n        </h2>\n        <Row className=\"justify-content-center g-4\">{renderPosts()}</Row>\n      </Container>\n    </>\n  );\n};\n\nexport default Profile;\n","import axios from \"axios\";\nimport { useState } from \"react\";\nimport { Button, Container, Form, Row, Col } from \"react-bootstrap\";\n\nconst Register = () => {\n  const [usernameValid, setUsernameValid] = useState({\n    touched: false,\n    isValid: false,\n    msg: \"\",\n  });\n\n  const [emailValid, setEmailValid] = useState({\n    touched: false,\n    isValid: false,\n    msg: \"\",\n  });\n\n  const [passwordValid, setPasswordValid] = useState({\n    touched: false,\n    isValid: false,\n    msg: \"\",\n  });\n\n  const [error, setError] = useState({\n    isError: false,\n    msg: \"\",\n  });\n\n  const [isLoading, setisLoading] = useState(false);\n\n  const checkUsernameValidation = (e) => {\n    let val = e.target.value.trim();\n    let valids = { ...usernameValid };\n    valids.touched = true;\n    if (val.length <= 0) {\n      valids.isValid = false;\n      valids.msg = \"Username is required.\";\n    } else if (val.length < 3) {\n      valids.isValid = false;\n      valids.msg = \"Username must be more than 2 characters.\";\n    } else if (val.length > 100) {\n      valids.isValid = false;\n      valids.msg = \"Username must be less than 100 characters.\";\n    } else {\n      valids.isValid = true;\n      valids.msg = \"\";\n    }\n    setUsernameValid({ ...valids });\n  };\n\n  const validateEmail = (email) => {\n    var re = /\\S+@\\S+\\.\\S+/;\n    return re.test(email);\n  };\n\n  const checkEmailValidation = (e) => {\n    let val = e.target.value.trim();\n    let valids = { ...emailValid };\n    valids.touched = true;\n    if (val.length <= 0) {\n      valids.isValid = false;\n      valids.msg = \"Email is required.\";\n    } else if (!validateEmail(val)) {\n      valids.isValid = false;\n      valids.msg = \"Email is not valid\";\n    } else if (val.length > 100) {\n      valids.isValid = false;\n      valids.msg = \"Email must be less than 100 characters.\";\n    } else {\n      valids.isValid = true;\n      valids.msg = \"\";\n    }\n    setEmailValid({ ...valids });\n  };\n\n  const checkPasswordValidation = (e) => {\n    let val = e.target.value.trim();\n    let valids = { ...passwordValid };\n    valids.touched = true;\n    if (val.length <= 0) {\n      valids.isValid = false;\n      valids.msg = \"Password is required.\";\n    } else if (val.length < 4) {\n      valids.isValid = false;\n      valids.msg = \"Password must be more than 3 characters.\";\n    } else if (val.length > 255) {\n      valids.isValid = false;\n      valids.msg = \"Password must be less than 255 characters.\";\n    } else {\n      valids.isValid = true;\n      valids.msg = \"\";\n    }\n    setPasswordValid({ ...valids });\n  };\n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n\n    setisLoading(true);\n    setError({ isError: false, msg: \"\" });\n\n    let username = e.target.username.value,\n      email = e.target.email.value,\n      password = e.target.password.value;\n\n    try {\n      if (\n        usernameValid.isValid &&\n        emailValid.isValid &&\n        passwordValid.isValid\n      ) {\n        let res = await axios.post(\"/api/v1/users\", {\n          username,\n          email,\n          password,\n        });\n        if (res.data) {\n          window.location.replace(\"/app/login\");\n          setisLoading(false);\n        }\n      }\n    } catch (err) {\n      setisLoading(false);\n      if (err.response.status === 409) {\n        setError({ isError: true, msg: \"Email is already used\" });\n      } else {\n        setError({ isError: true, msg: \"Somthing went wrong!\" });\n      }\n    }\n  };\n\n  const usernameStyle = () => {\n    if (usernameValid.touched) {\n      if (usernameValid.isValid) {\n        return \"border border-success\";\n      } else return \"border border-danger\";\n    }\n  };\n\n  const emailStyle = () => {\n    if (emailValid.touched) {\n      if (emailValid.isValid) {\n        return \"border border-success\";\n      } else return \"border border-danger\";\n    }\n  };\n\n  const passwordStyle = () => {\n    if (passwordValid.touched) {\n      if (passwordValid.isValid) {\n        return \"border border-success\";\n      } else return \"border border-danger\";\n    }\n  };\n\n  return (\n    <Container>\n      <Row>\n        <Col md={6} lg={4} className=\" mx-auto bg-light p-4 my-4 shadow-sm\">\n          <h2 className=\" text-center h4 m-3 text-secondary\">Register</h2>\n          <Form onSubmit={submitHandler}>\n            <Form.Group className=\"mb-3\">\n              <Form.Label>Username</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Enter username\"\n                name=\"username\"\n                onBlur={checkUsernameValidation}\n                className={usernameStyle()}\n              />\n              {usernameValid.msg && (\n                <small className=\"text-danger p-1\">{usernameValid.msg}</small>\n              )}\n            </Form.Group>\n            <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput1\">\n              <Form.Label>Email address</Form.Label>\n              <Form.Control\n                type=\"email\"\n                placeholder=\"Enter email\"\n                name=\"email\"\n                onBlur={checkEmailValidation}\n                className={emailStyle()}\n              />\n              {emailValid.msg && (\n                <small className=\"text-danger p-1\">{emailValid.msg}</small>\n              )}\n            </Form.Group>\n            <Form.Group className=\"mb-3\" controlId=\"formPlaintextPassword1\">\n              <Form.Label>Password</Form.Label>\n              <Form.Control\n                type=\"password\"\n                placeholder=\"Enter password\"\n                name=\"password\"\n                onKeyUp={checkPasswordValidation}\n                className={passwordStyle()}\n              />\n              {passwordValid.msg && (\n                <small className=\"text-danger p-1\">{passwordValid.msg}</small>\n              )}\n            </Form.Group>\n            <Button\n              variant=\"primary\"\n              type=\"submit\"\n              className=\"w-100\"\n              disabled={\n                !usernameValid.isValid ||\n                !emailValid.isValid ||\n                !passwordValid.isValid\n              }\n            >\n              {isLoading ? \"Loading ...\" : \"Register\"}\n            </Button>\n            {error.isError && (\n              <div className=\"alert alert-danger text-center my-2\">\n                {error.msg}\n              </div>\n            )}\n          </Form>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default Register;\n","import axios from \"axios\";\nimport jwt_decode from \"jwt-decode\";\nimport { Link } from \"react-router-dom\";\nimport Post from \"../components/blog/Post\";\nimport { Context } from \"../context/Context\";\nimport { useState, useEffect, useContext } from \"react\";\nimport { Button, Container, Form, Row, Col, Alert } from \"react-bootstrap\";\n\nconst EditProfile = () => {\n  const { user, dispatch } = useContext(Context);\n\n  const [username, setUsername] = useState(user.username);\n  const [email, setEmail] = useState(user.email);\n\n  const [usernameValid, setUsernameValid] = useState({\n    touched: false,\n    isValid: true,\n    msg: \"\",\n  });\n\n  const [emailValid, setEmailValid] = useState({\n    touched: false,\n    isValid: true,\n    msg: \"\",\n  });\n\n  const [posts, setPosts] = useState([]);\n  const [isLoading, setisLoading] = useState(false);\n  const [updateForm, setUpdateForm] = useState(false);\n  const [deleteSuccess, setDeleteSuccess] = useState(false);\n  const [updateSuccess, setupdateSuccess] = useState(false);\n\n  const [showAlert, setShowAlert] = useState({\n    isError: false,\n    isSuccess: false,\n  });\n\n  const [error, setError] = useState({\n    isError: false,\n    msg: \"\",\n  });\n\n  useEffect(() => {\n    const fetchPosts = async () => {\n      try {\n        const res = await axios.get(`/api/v1/posts?userId=${user._id}`);\n        setPosts(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchPosts();\n  }, [deleteSuccess, user._id, updateSuccess]);\n\n  const refreshToken = async () => {\n    try {\n      const res = await axios.post(\"/api/v1/users/refresh-token\", {\n        token: user.refreshToken,\n      });\n      dispatch({\n        type: \"LOGIN_SUCCESS\",\n        payload: { ...user, accessToken: res.data.accessToken },\n      });\n      return res.data;\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const axiosJWT = axios.create();\n  //This will run before every axios request to refresh token\n  const decodedToken = jwt_decode(user.accessToken);\n  axiosJWT.interceptors.request.use(\n    async (config) => {\n      let currentDate = new Date();\n      if (decodedToken.exp * 1000 < currentDate.getTime()) {\n        const data = await refreshToken();\n        config.headers[\"auth-token\"] = data.accessToken;\n      }\n      return config;\n    },\n    (err) => {\n      return Promise.reject(err);\n    }\n  );\n\n  const onDelete = async (post) => {\n    try {\n      let res = await axiosJWT.delete(`/api/v1/posts/${post._id}`, {\n        headers: {\n          \"auth-token\": user.accessToken,\n        },\n      });\n      if (res) {\n        setDeleteSuccess(!deleteSuccess);\n        setShowAlert({ isError: false, isSuccess: true });\n      }\n    } catch (err) {\n      console.log(err);\n      setShowAlert({ isError: true, isSuccess: false });\n    }\n  };\n  const checkUsernameValidation = (e) => {\n    let val = e.target.value;\n    setUsername(val);\n    let valids = { ...usernameValid };\n    valids.touched = true;\n    if (val.length <= 0) {\n      valids.isValid = false;\n      valids.msg = \"Username is required.\";\n    } else if (val.length < 4) {\n      valids.isValid = false;\n      valids.msg = \"Username must be more than 3 characters.\";\n    } else if (val.length > 100) {\n      valids.isValid = false;\n      valids.msg = \"Username must be less than 100 characters.\";\n    } else {\n      valids.isValid = true;\n      valids.msg = \"\";\n    }\n    setUsernameValid({ ...valids });\n  };\n\n  const validateEmail = (email) => {\n    var re = /\\S+@\\S+\\.\\S+/;\n    return re.test(email);\n  };\n\n  const checkEmailValidation = (e) => {\n    let val = e.target.value;\n    setEmail(val);\n    let valids = { ...emailValid };\n    valids.touched = true;\n    if (val.length <= 0) {\n      valids.isValid = false;\n      valids.msg = \"Email is required.\";\n    } else if (!validateEmail(val)) {\n      valids.isValid = false;\n      valids.msg = \"Email is not valid\";\n    } else if (val.length > 100) {\n      valids.isValid = false;\n      valids.msg = \"Email must be less than 100 characters.\";\n    } else {\n      valids.isValid = true;\n      valids.msg = \"\";\n    }\n    setEmailValid({ ...valids });\n  };\n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n    try {\n      setisLoading(true);\n      setError({ isError: false, msg: \"\" });\n      if (usernameValid.isValid && emailValid.isValid) {\n        let res = await axiosJWT.put(\n          `/api/v1/users/${user._id}`,\n          { username, email },\n          { headers: { \"auth-token\": user.accessToken } }\n        );\n\n        if (res) {\n          dispatch({\n            type: \"LOGIN_SUCCESS\",\n            payload: {\n              ...user,\n              username: res.data.username,\n              email: res.data.email,\n            },\n          });\n          setisLoading(false);\n          setupdateSuccess(true);\n        }\n      }\n    } catch (err) {\n      setupdateSuccess(false);\n      setisLoading(false);\n      if (err.response.status === 409) {\n        setError({ isError: true, msg: \"Email is already used\" });\n      } else {\n        setError({ isError: true, msg: \"Somthing went wrong!\" });\n      }\n    }\n  };\n\n  const usernameStyle = () => {\n    if (usernameValid.touched) {\n      if (usernameValid.isValid) {\n        return \"border border-success\";\n      } else return \"border border-danger\";\n    }\n  };\n\n  const emailStyle = () => {\n    if (emailValid.touched) {\n      if (emailValid.isValid) {\n        return \"border border-success\";\n      } else return \"border border-danger\";\n    }\n  };\n\n  const renderPosts = () => {\n    return posts.length > 0 ? (\n      posts.map((post) => (\n        <Col md={6} lg={4} key={post._id}>\n          <Post post={post} userProfile={true} onDelete={onDelete} />\n        </Col>\n      ))\n    ) : (\n      // <Spinner animation=\"border\" role=\"status\" />\n      <h5 className=\"my-4\">\n        You do not have any posts, <Link to=\"/add-post\">Write now</Link>\n      </h5>\n    );\n  };\n\n  return (\n    <Container>\n      {showAlert.isError && (\n        <Alert\n          variant=\"danger\"\n          onClose={() =>\n            setShowAlert({\n              isError: false,\n              isSuccess: false,\n            })\n          }\n          className=\"success-alert\"\n          dismissible\n        >\n          <Alert.Heading className=\"f-1\">Somthing went wrong!</Alert.Heading>\n        </Alert>\n      )}\n      {showAlert.isSuccess && (\n        <Alert\n          variant=\"success\"\n          onClose={() =>\n            setShowAlert({\n              isError: false,\n              isSuccess: false,\n            })\n          }\n          className=\"success-alert\"\n          dismissible\n        >\n          <Alert.Heading className=\"f-1\">\n            Post has been successfully deleted\n          </Alert.Heading>\n        </Alert>\n      )}\n\n      <Row>\n        <Col md={6} lg={4} className=\" mx-auto bg-light p-4 my-4 shadow-sm\">\n          {!updateForm && (\n            <div style={{ textAlign: \"center\" }}>\n              <Button\n                variant=\"primary\"\n                className=\"w-50\"\n                onClick={() => setUpdateForm(true)}\n              >\n                Update Profile\n              </Button>\n            </div>\n          )}\n          {updateForm && (\n            <Form onSubmit={submitHandler}>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>Username</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  placeholder=\"Enter username\"\n                  name=\"username\"\n                  value={username}\n                  onChange={checkUsernameValidation}\n                  className={usernameStyle()}\n                />\n                {usernameValid.msg && (\n                  <small className=\"text-danger p-1\">{usernameValid.msg}</small>\n                )}\n              </Form.Group>\n              <Form.Group\n                className=\"mb-3\"\n                controlId=\"exampleForm.ControlInput1\"\n              >\n                <Form.Label>Email address</Form.Label>\n                <Form.Control\n                  type=\"email\"\n                  placeholder=\"Enter email\"\n                  name=\"email\"\n                  value={email}\n                  onChange={checkEmailValidation}\n                  className={emailStyle()}\n                />\n                {emailValid.msg && (\n                  <small className=\"text-danger p-1\">{emailValid.msg}</small>\n                )}\n              </Form.Group>\n              <Button\n                variant=\"primary\"\n                type=\"submit\"\n                className=\"w-100\"\n                disabled={!usernameValid.isValid || !emailValid.isValid}\n              >\n                {isLoading ? \"Loading ...\" : \"Update\"}\n              </Button>\n              {updateSuccess && (\n                <div className=\"alert alert-success text-center my-2\">\n                  Update Successfully\n                </div>\n              )}\n              {error.isError && (\n                <div className=\"alert alert-danger text-center my-2\">\n                  {error.msg}\n                </div>\n              )}\n            </Form>\n          )}\n        </Col>\n      </Row>\n      <h2 id=\"posts\" className=\"h3 border-bottom mb-4 pb-4 text-primary\">\n        Your Posts\n      </h2>\n      <Row className=\"justify-content-center g-4\">{renderPosts()}</Row>\n    </Container>\n  );\n};\n\nexport default EditProfile;\n","import { Modal, Button } from \"react-bootstrap\";\n\nconst PostModal = ({ showModal, hideModal, modalData }) => {\n  return (\n    <Modal show={showModal} size=\"lg\" centered onHide={hideModal}>\n      <Modal.Header closeButton>\n        <Modal.Title id=\"contained-modal-title-vcenter\">\n          {modalData.title}\n        </Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <p>{modalData.body}</p>\n      </Modal.Body>\n      <Modal.Footer>\n        <Button onClick={hideModal}>Close</Button>\n      </Modal.Footer>\n    </Modal>\n  );\n};\n\nexport default PostModal;\n","import axios from \"axios\";\nimport Post from \"./Post\";\nimport PostModal from \"./PostModal\";\nimport { useState, useEffect } from \"react\";\nimport { Row, Col, Container, Spinner } from \"react-bootstrap\";\n\nconst Posts = () => {\n  const [posts, setPosts] = useState([]);\n  const [modalData, setModalData] = useState({});\n  const [showModal, setShowModal] = useState(false);\n\n  useEffect(() => {\n    const fetchPosts = async () => {\n      try {\n        const res = await axios.get(\"/api/v1/posts\");\n        res && setPosts(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchPosts();\n  }, []);\n\n  const showModalFun = (post) => {\n    setShowModal(true);\n    setModalData(post);\n  };\n\n  const hideModal = () => {\n    setShowModal(false);\n  };\n\n  return (\n    <Container>\n      <h2 id=\"posts\" className=\"h3 border-bottom mb-4 pb-4 text-primary\">\n        Posts\n      </h2>\n      <PostModal\n        showModal={showModal}\n        hideModal={hideModal}\n        modalData={modalData}\n      />\n      <Row className=\"justify-content-center g-4\">\n        {posts.length > 0 ? (\n          posts.map((post) => (\n            <Col md={6} lg={4} key={post._id}>\n              <Post post={post} onShow={() => showModalFun(post)} />\n            </Col>\n          ))\n        ) : (\n          <Spinner className=\"my-4\" animation=\"border\" role=\"status\" />\n        )}\n      </Row>\n    </Container>\n  );\n};\n\nexport default Posts;\n","import { useContext } from \"react\";\nimport Head from \"../components/blog/Head\";\nimport Posts from \"../components/blog/Posts\";\nimport { Context } from \"../context/Context\";\n\nconst Blog = () => {\n  const { user } = useContext(Context);\n\n  return (\n    <div>\n      <Head title={user && `Welcome ${user.username}, to our blog`} />\n      <Posts />\n    </div>\n  );\n};\n\nexport default Blog;\n","import React from \"react\";\nimport Head from \"./blog/Head\";\nclass NotFound extends React.Component {\n  componentDidMount() {\n    this.props.history.replace(\"/not-found\");\n  }\n  render() {\n    return (\n      <div>\n        <Head title=\"404 not found\" />\n      </div>\n    );\n  }\n}\n\nexport default NotFound;\n","import axios from \"axios\";\nimport jwt_decode from \"jwt-decode\";\nimport { useState, useContext } from \"react\";\nimport { Context } from \"../../context/Context\";\nimport { Button, Container, Form, Row, Col, Image } from \"react-bootstrap\";\n\nconst AddPost = (props) => {\n  const { user, dispatch } = useContext(Context);\n  const [image, setImage] = useState(null);\n  const [isLoading, setisLoading] = useState(false);\n  const [addSuccess, setaddSuccess] = useState(false);\n\n  const [titleValid, setTitleValid] = useState({\n    touched: false,\n    isValid: false,\n    msg: \"\",\n  });\n\n  const [bodyValid, setBodyValid] = useState({\n    touched: false,\n    isValid: false,\n    msg: \"\",\n  });\n\n  const [error, setError] = useState({\n    isError: false,\n    msg: \"\",\n  });\n\n  const checkTitleValidation = (e) => {\n    let val = e.target.value.trim();\n    let valids = { ...titleValid };\n    valids.touched = true;\n\n    if (val.length <= 0) {\n      valids.isValid = false;\n      valids.msg = \"Title is required.\";\n    } else if (val.length < 3) {\n      valids.isValid = false;\n      valids.msg = \"Title must be more than 2 characters.\";\n    } else if (val.length > 255) {\n      valids.isValid = false;\n      valids.msg = \"Title must be less than 255 characters.\";\n    } else {\n      valids.isValid = true;\n      valids.msg = \"\";\n    }\n    setTitleValid({ ...valids });\n  };\n\n  const checkBodyValidation = (e) => {\n    let val = e.target.value.trim();\n    let valids = { ...bodyValid };\n    valids.touched = true;\n\n    if (val.length <= 0) {\n      valids.isValid = false;\n      valids.msg = \"Body is required.\";\n    } else if (val.length < 5) {\n      valids.isValid = false;\n      valids.msg = \"Body must be more than 4 characters.\";\n    } else if (val.length > 10000) {\n      valids.isValid = false;\n      valids.msg = \"Body must be less than 10000 characters.\";\n    } else {\n      valids.isValid = true;\n      valids.msg = \"\";\n    }\n    setBodyValid({ ...valids });\n  };\n\n  const titleStyle = () => {\n    if (titleValid.touched) {\n      if (titleValid.isValid) {\n        return \"border border-success\";\n      } else return \"border border-danger\";\n    }\n  };\n\n  const bodyStyle = () => {\n    if (bodyValid.touched) {\n      if (bodyValid.isValid) {\n        return \"border border-success\";\n      } else return \"border border-danger\";\n    }\n  };\n\n  const refreshToken = async () => {\n    try {\n      const res = await axios.post(\"/api/v1/users/refresh-token\", {\n        token: user.refreshToken,\n      });\n      dispatch({\n        type: \"LOGIN_SUCCESS\",\n        payload: { ...user, accessToken: res.data.accessToken },\n      });\n      return res.data;\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const axiosJWT = axios.create();\n  //This will run before axios request to refresh token\n  axiosJWT.interceptors.request.use(\n    async (config) => {\n      let currentDate = new Date();\n      const decodedToken = jwt_decode(user.accessToken);\n      if (decodedToken.exp * 1000 < currentDate.getTime()) {\n        const data = await refreshToken();\n        config.headers[\"auth-token\"] = data.accessToken;\n      }\n      return config;\n    },\n    (err) => {\n      return Promise.reject(err);\n    }\n  );\n\n  const addPostHandler = async (e) => {\n    e.preventDefault();\n    try {\n      if (titleValid.isValid && bodyValid.isValid && image) {\n        let formData = new FormData();\n        formData.append(\"title\", e.target.title.value);\n        formData.append(\"body\", e.target.body.value);\n        formData.append(\"image\", image);\n\n        setisLoading(true);\n\n        let res = await axiosJWT({\n          method: \"post\",\n          url: \"/api/v1/posts\",\n          data: formData,\n          headers: {\n            \"auth-token\": user.accessToken,\n            \"Content-Type\": \"multipart/form-data\",\n          },\n        });\n\n        if (res.data) {\n          setisLoading(false);\n          setaddSuccess(true);\n          window.location.replace(`/app/posts/${res.data._id}`);\n          e.target.reset();\n        }\n      }\n    } catch (err) {\n      setisLoading(false);\n      setaddSuccess(false);\n      if (err.response.status === 400) {\n        setError({ isError: true, msg: \"Invalid inputs\" });\n      } else {\n        setError({ isError: true, msg: \"Somthing went wrong!\" });\n      }\n    }\n  };\n\n  return (\n    <Container>\n      <Row>\n        <Col md={6} lg={4} className=\" mx-auto bg-light p-4 my-4 shadow-sm\">\n          <h2 className=\" text-center h4 m-3 text-secondary\">Add Post</h2>\n          <Form onSubmit={addPostHandler}>\n            <Form.Group className=\"mb-3\">\n              <Form.Label>Post title</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Enter Title\"\n                name=\"title\"\n                className={titleStyle()}\n                onBlur={checkTitleValidation}\n                autoFocus\n              />\n              {titleValid.msg && (\n                <small className=\"text-danger p-1\">{titleValid.msg}</small>\n              )}\n            </Form.Group>\n\n            <Form.Group\n              className=\"mb-3\"\n              controlId=\"exampleForm.ControlTextarea1\"\n            >\n              <Form.Label>Post body</Form.Label>\n              <Form.Control\n                as=\"textarea\"\n                rows={3}\n                name=\"body\"\n                className={bodyStyle()}\n                onChange={checkBodyValidation}\n              />\n              {bodyValid.msg && (\n                <small className=\"text-danger p-1\">{bodyValid.msg}</small>\n              )}\n            </Form.Group>\n            <Form.Group controlId=\"formFile\" className=\"mb-3\">\n              <Form.Label>Post image</Form.Label>\n              <div className=\"d-flex my-2 justify-content-center\">\n                <Col xs={6} md={4}>\n                  {image && (\n                    <Image src={URL.createObjectURL(image)} thumbnail />\n                  )}\n                </Col>\n              </div>\n              <Form.Control\n                type=\"file\"\n                name=\"image\"\n                accept=\"image/png, image/jpeg, image/jpg, image/JPG, image/svg, image/webp\"\n                onChange={(e) => setImage(e.target.files[0])}\n              />\n            </Form.Group>\n            <Button\n              variant=\"primary\"\n              type=\"submit\"\n              className=\"w-100\"\n              disabled={!titleValid.isValid || !bodyValid.isValid || !image}\n            >\n              {isLoading ? \"Loading ...\" : \"Add New Post\"}\n            </Button>\n          </Form>\n          {error.isError && (\n            <div className=\"alert alert-danger text-center my-2\">\n              {error.msg}\n            </div>\n          )}\n          {addSuccess && (\n            <div className=\"alert alert-success text-center my-2\">\n              Post Added Successfully\n            </div>\n          )}\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default AddPost;\n","import axios from \"axios\";\nimport { useContext } from \"react\";\nimport { Context } from \"../../context/Context\";\nimport { NavLink, Link } from \"react-router-dom\";\nimport { Nav, Navbar, Container } from \"react-bootstrap\";\n\nexport const Header = () => {\n  const { user, dispatch } = useContext(Context);\n\n  const handleLogout = async () => {\n    try {\n      let res = await axios.post(\"/api/v1/users/logout\", {\n        token: user.refreshToken,\n      });\n      if (res) {\n        dispatch({ type: \"LOGOUT\" });\n        window.location.replace(\"/app\");\n      }\n    } catch (err) {\n      window.location.replace(\"/app\");\n    }\n  };\n\n  return (\n    <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\" sticky=\"top\">\n      <Container>\n        <Navbar.Brand>\n          <Link className=\"white-link\" to={\"/\"}>\n            Mern Blog\n          </Link>\n        </Navbar.Brand>\n        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n        <Navbar.Collapse\n          id=\"responsive-navbar-nav\"\n          className=\"justify-content-end\"\n        >\n          <Nav className=\"\">\n            <NavLink className=\"nav-link\" exact to=\"/\">\n              home\n            </NavLink>\n            {!user ? (\n              <>\n                <NavLink className=\"nav-link\" to=\"/login\">\n                  login\n                </NavLink>\n                <NavLink className=\"nav-link\" to=\"/register\">\n                  register\n                </NavLink>\n              </>\n            ) : null}\n            {user ? (\n              <>\n                <NavLink className=\"nav-link\" to=\"/add-post\">\n                  write\n                </NavLink>\n                <NavLink className=\"nav-link\" to=\"/edit-profile\">\n                  profile\n                </NavLink>\n                <span\n                  className=\"nav-link\"\n                  style={{ cursor: \"pointer\" }}\n                  onClick={handleLogout}\n                >\n                  logout\n                </span>\n              </>\n            ) : null}\n            <NavLink className=\"nav-link\" to=\"/about\">\n              contact\n            </NavLink>\n          </Nav>\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  );\n};\n\nexport default Header;\n","const Footer = () => {\n  return (\n    <footer className=\"d-flex justify-content-center p-4 bg-light\">\n      <h4 className=\"lead text-secondary\"> &copy; 2021 Abdelrazek</h4>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import axios from \"axios\";\nimport jwt_decode from \"jwt-decode\";\nimport { useState, useContext } from \"react\";\nimport { Context } from \"../../context/Context\";\nimport { useParams, useLocation } from \"react-router\";\nimport { Button, Container, Form, Row, Col, Image } from \"react-bootstrap\";\n\nconst EditPost = () => {\n  const { user, dispatch } = useContext(Context);\n\n  const postId = useParams().id;\n  const location = useLocation();\n  const { postTitle, postBody, postImg } = location.state;\n\n  const [title, setTitle] = useState(postTitle);\n  const [body, setBody] = useState(postBody);\n  const [image, setImage] = useState(null);\n  const [isLoading, setisLoading] = useState(false);\n  const [addSuccess, setaddSuccess] = useState(false);\n\n  const [titleValid, setTitleValid] = useState({\n    touched: false,\n    isValid: true,\n    msg: \"\",\n  });\n\n  const [bodyValid, setBodyValid] = useState({\n    touched: false,\n    isValid: true,\n    msg: \"\",\n  });\n  const [error, setError] = useState({\n    isError: false,\n    msg: \"\",\n  });\n\n  const checkTitleValidation = (e) => {\n    let val = e.target.value;\n    setTitle(val);\n    let valids = { ...titleValid };\n    valids.touched = true;\n    if (val.length <= 0) {\n      valids.isValid = false;\n      valids.msg = \"Title is required.\";\n    } else if (val.length < 3) {\n      valids.isValid = false;\n      valids.msg = \"Title must be more than 2 characters.\";\n    } else if (val.length > 255) {\n      valids.isValid = false;\n      valids.msg = \"Title must be less than 255 characters.\";\n    } else {\n      valids.isValid = true;\n      valids.msg = \"\";\n    }\n    setTitleValid({ ...valids });\n  };\n\n  const checkBodyValidation = (e) => {\n    let val = e.target.value;\n    setBody(val);\n    let valids = { ...bodyValid };\n    valids.touched = true;\n    if (val.length <= 0) {\n      valids.isValid = false;\n      valids.msg = \"Body is required.\";\n    } else if (val.length < 5) {\n      valids.isValid = false;\n      valids.msg = \"Body must be more than 4 characters.\";\n    } else if (val.length > 10000) {\n      valids.isValid = false;\n      valids.msg = \"Body must be less than 10000 characters.\";\n    } else {\n      valids.isValid = true;\n      valids.msg = \"\";\n    }\n    setBodyValid({ ...valids });\n  };\n\n  const titleStyle = () => {\n    if (titleValid.touched) {\n      if (titleValid.isValid) {\n        return \"border border-success\";\n      } else return \"border border-danger\";\n    }\n  };\n\n  const bodyStyle = () => {\n    if (bodyValid.touched) {\n      if (bodyValid.isValid) {\n        return \"border border-success\";\n      } else return \"border border-danger\";\n    }\n  };\n\n  const refreshToken = async () => {\n    try {\n      const res = await axios.post(\"/api/v1/users/refresh-token\", {\n        token: user.refreshToken,\n      });\n      dispatch({\n        type: \"LOGIN_SUCCESS\",\n        payload: { ...user, accessToken: res.data.accessToken },\n      });\n      return res.data;\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const axiosJWT = axios.create();\n  //This will run before axios request to refresh token\n  axiosJWT.interceptors.request.use(\n    async (config) => {\n      let currentDate = new Date();\n      const decodedToken = jwt_decode(user.accessToken);\n      if (decodedToken.exp * 1000 < currentDate.getTime()) {\n        const data = await refreshToken();\n        config.headers[\"auth-token\"] = data.accessToken;\n      }\n      return config;\n    },\n    (err) => {\n      return Promise.reject(err);\n    }\n  );\n\n  const addPostHandler = async (e) => {\n    e.preventDefault();\n    try {\n      if (titleValid.isValid && bodyValid.isValid) {\n        let formData = new FormData();\n        formData.append(\"title\", title);\n        formData.append(\"body\", body);\n        image && formData.append(\"image\", image);\n        setisLoading(true);\n\n        let res = await axiosJWT({\n          method: \"put\",\n          url: `/api/v1/posts/${postId}`,\n          data: formData,\n          headers: {\n            \"auth-token\": user.accessToken,\n            \"Content-Type\": \"multipart/form-data\",\n          },\n        });\n\n        if (res.data) {\n          setisLoading(false);\n          setaddSuccess(true);\n        }\n      }\n    } catch (err) {\n      console.log(err);\n      setisLoading(false);\n      setaddSuccess(false);\n      if (err.response.status === 400) {\n        setError({ isError: true, msg: \"Invalid inputs\" });\n      } else {\n        setError({ isError: true, msg: \"Somthing went wrong!\" });\n      }\n    }\n  };\n\n  return (\n    <Container>\n      <Row>\n        <Col md={6} lg={4} className=\" mx-auto bg-light p-4 my-4 shadow-sm\">\n          <h2 className=\" text-center h4 m-3 text-secondary\">Update Post</h2>\n          <Form onSubmit={addPostHandler}>\n            <Form.Group className=\"mb-3\">\n              <Form.Label>Post title</Form.Label>\n              <Form.Control\n                type=\"text\"\n                value={title}\n                name=\"title\"\n                className={titleStyle()}\n                onChange={checkTitleValidation}\n              />\n              {titleValid.msg && (\n                <small className=\"text-danger p-1\">{titleValid.msg}</small>\n              )}\n            </Form.Group>\n            <Form.Group\n              className=\"mb-3\"\n              controlId=\"exampleForm.ControlTextarea1\"\n            >\n              <Form.Label>Post body</Form.Label>\n              <Form.Control\n                as=\"textarea\"\n                value={body}\n                rows={3}\n                name=\"body\"\n                className={bodyStyle()}\n                onChange={checkBodyValidation}\n              />\n              {bodyValid.msg && (\n                <small className=\"text-danger p-1\">{bodyValid.msg}</small>\n              )}\n            </Form.Group>\n            <Form.Group controlId=\"formFile\" className=\"mb-3\">\n              <Form.Label>Post image</Form.Label>\n              <div className=\"d-flex my-2 justify-content-center\">\n                <Col xs={6} md={4}>\n                  {image ? (\n                    <Image src={URL.createObjectURL(image)} thumbnail />\n                  ) : (\n                    <Image\n                      src={`https://azstorageabdelrazek.blob.core.windows.net/postimgs/${postImg}`}\n                      thumbnail\n                    />\n                  )}\n                </Col>\n              </div>\n              <Form.Control\n                type=\"file\"\n                name=\"image\"\n                accept=\"image/png, image/jpeg, image/jpg, image/JPG, image/svg, image/webp\"\n                onChange={(e) => setImage(e.target.files[0])}\n              />\n            </Form.Group>\n            <Button\n              variant=\"primary\"\n              type=\"submit\"\n              className=\"w-100\"\n              disabled={!titleValid.isValid || !bodyValid.isValid}\n            >\n              {isLoading ? \"Loading ...\" : \"Update Post\"}\n            </Button>\n          </Form>\n          {error.isError && (\n            <div className=\"alert alert-danger text-center my-2\">\n              {error.msg}\n            </div>\n          )}\n          {addSuccess && (\n            <div className=\"alert alert-success text-center my-2\">\n              Post Updated Successfully\n            </div>\n          )}\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default EditPost;\n","import axios from \"axios\";\nimport jwt_decode from \"jwt-decode\";\nimport { Context } from \"../../context/Context\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { useState, useEffect, useContext } from \"react\";\nimport defaultImg from \"../../assets/images/defaultImg.jpg\";\nimport {\n  Spinner,\n  Container,\n  Button,\n  Card,\n  ListGroup,\n  Alert,\n} from \"react-bootstrap\";\n\nconst PostDetails = (props) => {\n  const { user, dispatch } = useContext(Context);\n  const { id } = useParams();\n  const [post, setPost] = useState(null);\n  const [showAlert, setShowAlert] = useState({\n    isError: false,\n    isSuccess: false,\n  });\n\n  useEffect(() => {\n    const fetchPost = async () => {\n      const res = await axios.get(`/api/v1/posts/${id}`);\n      setPost(res.data);\n    };\n    fetchPost();\n  }, [id]);\n\n  const axiosJWT = axios.create();\n  if (user) {\n    const refreshToken = async () => {\n      try {\n        const res = await axios.post(\"/api/v1/users/refresh-token\", {\n          token: user.refreshToken,\n        });\n        dispatch({\n          type: \"LOGIN_SUCCESS\",\n          payload: { ...user, accessToken: res.data.accessToken },\n        });\n        return res.data;\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    //This will run before every axios request to refresh token\n    const decodedToken = jwt_decode(user.accessToken);\n    axiosJWT.interceptors.request.use(\n      async (config) => {\n        let currentDate = new Date();\n        if (decodedToken.exp * 1000 < currentDate.getTime()) {\n          const data = await refreshToken();\n          config.headers[\"auth-token\"] = data.accessToken;\n        }\n        return config;\n      },\n      (err) => {\n        return Promise.reject(err);\n      }\n    );\n  }\n  const onDelete = async (postId) => {\n    try {\n      let res = await axiosJWT.delete(`/api/v1/posts/${postId}`, {\n        headers: {\n          \"auth-token\": user.accessToken,\n        },\n      });\n      if (res) {\n        setShowAlert({ isError: false, isSuccess: true });\n        setTimeout(window.location.replace(\"/app\"), 3000);\n      }\n    } catch (err) {\n      setShowAlert({ isError: true, isSuccess: false });\n    }\n  };\n\n  return post ? (\n    <Container>\n      {showAlert.isError && (\n        <Alert\n          variant=\"danger\"\n          onClose={() =>\n            setShowAlert({\n              isError: false,\n              isSuccess: false,\n            })\n          }\n          className=\"success-alert\"\n          dismissible\n        >\n          <Alert.Heading className=\"f-1\">Somthing went wrong!</Alert.Heading>\n        </Alert>\n      )}\n      {showAlert.isSuccess && (\n        <Alert\n          variant=\"success\"\n          onClose={() =>\n            setShowAlert({\n              isError: false,\n              isSuccess: false,\n            })\n          }\n          className=\"success-alert\"\n          dismissible\n        >\n          <Alert.Heading className=\"f-1\">\n            Post has been successfully deleted\n          </Alert.Heading>\n        </Alert>\n      )}\n      <Card className=\"my-4\">\n        <div style={{ textAlign: \"center\" }}>\n          <Card.Img\n            className=\"w-50 my-2\"\n            src={\n              post.postImg\n                ? `https://azstorageabdelrazek.blob.core.windows.net/postimgs/${post.postImg}`\n                : defaultImg\n            }\n          />\n        </div>\n        <Card.Body>\n          <div className=\"px-1 text-center\">\n            <Card.Title>{post.title}</Card.Title>\n            <Card.Text className=\"first-letter\" style={{ lineHeight: 2 }}>\n              {post.body}\n            </Card.Text>\n          </div>\n          <ListGroup variant=\"flush\">\n            <ListGroup.Item>\n              {user && user._id === post.createdBy._id ? (\n                <Link className=\"username-link\" to=\"/edit-profile\">\n                  {post.createdBy ? post.createdBy.username : \"user\"}\n                </Link>\n              ) : (\n                <Link\n                  className=\"username-link\"\n                  to={{\n                    pathname: `/profile/${post.createdBy._id}`,\n                    state: {\n                      username: post.createdBy.username,\n                    },\n                  }}\n                >\n                  {post.createdBy ? post.createdBy.username : \"user\"}\n                </Link>\n              )}\n            </ListGroup.Item>\n            <ListGroup.Item>\n              {new Date(post.createdAt).toDateString()}\n            </ListGroup.Item>\n            {user && user._id === post.createdBy._id ? (\n              <ListGroup.Item>\n                <Link\n                  className=\"btn btn-primary\"\n                  to={{\n                    pathname: `/edit-post/${post._id}`,\n                    state: {\n                      postTitle: post.title,\n                      postBody: post.body,\n                      postImg: post.postImg,\n                    },\n                  }}\n                  style={{ marginRight: \"5px\" }}\n                >\n                  Edit Post\n                </Link>\n                <Button variant=\"danger\" onClick={() => onDelete(id)}>\n                  Delete Post\n                </Button>\n              </ListGroup.Item>\n            ) : null}\n          </ListGroup>\n        </Card.Body>\n      </Card>\n    </Container>\n  ) : (\n    <div className=\"d-flex justify-content-center m-4\">\n      <Spinner animation=\"border\" role=\"status\" />\n    </div>\n  );\n};\n\nexport default PostDetails;\n","import React, { Suspense, useContext } from \"react\";\nimport { Spinner } from \"react-bootstrap\";\nimport { Context } from \"./context/Context\";\nimport { BrowserRouter, Redirect, Route, Switch } from \"react-router-dom\";\n\n// Import views\nimport Login from \"./views/Login\";\nimport Profile from \"./views/Profile\";\nimport Register from \"./views/Register\";\nimport EditProfile from \"./views/EditProfile\";\n\n// Import components\nimport Blog from \"./views/Blog\";\nimport NotFound from \"./components/NotFound\";\nimport AddPost from \"./components/blog/AddPost\";\nimport Header from \"./components/layout/Header\";\nimport Footer from \"./components/layout/Footer\";\nimport EditPost from \"./components/blog/EditPost\";\nimport PostDetails from \"./components/blog/PostDetails\";\n\n// Lazy Loading\nconst About = React.lazy(() => import(\"./views/About\"));\n\nconst App = () => {\n  const { user } = useContext(Context);\n\n  return (\n    <>\n      {/* Using basename=\"/app\" to avoid server problems */}\n      <BrowserRouter basename=\"/app\">\n        <Header />\n        <Switch>\n          <Route path=\"/\" exact component={Blog} />\n          <Route path=\"/login\" component={Login} />\n          <Route path=\"/register\" component={Register} />\n          <Route path=\"/profile/:id\" component={Profile} />\n          <Route path=\"/posts/:id\" component={PostDetails} />\n          <Route\n            path=\"/about\"\n            render={() => {\n              return (\n                <Suspense\n                  fallback={\n                    <div className=\"d-flex justify-content-center\">\n                      <Spinner\n                        className=\"my-4\"\n                        animation=\"border\"\n                        role=\"status\"\n                      />\n                    </div>\n                  }\n                >\n                  <About />\n                </Suspense>\n              );\n            }}\n          />\n          {user ? (\n            <>\n              <Route path=\"/edit-profile\" component={EditProfile} />\n              <Route path=\"/add-post\" component={AddPost} />\n              <Route path=\"/edit-post/:id\" component={EditPost} />\n            </>\n          ) : (\n            <>\n              <Redirect from=\"/edit-profile\" to=\"/login\" />\n              <Redirect from=\"/add-post\" to=\"/login\" />\n              <Redirect from=\"/edit-post/:id\" to=\"/login\" />\n            </>\n          )}\n\n          <Redirect from=\"/home\" to=\"/\" />\n          <Route component={NotFound} />\n          {/* Redirect \"from\" attribute is used only on switch */}\n        </Switch>\n        <Footer />\n      </BrowserRouter>\n    </>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./assets/styles/main.css\";\nimport App from \"./App\";\nimport { ContextProvider } from \"./context/Context\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <ContextProvider>\n      <App />\n    </ContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","const Head = ({ title }) => {\n  return (\n    <div className=\"head d-flex justify-content-center align-items-center\">\n      <div className=\"d-flex justify-content-center\">\n        <h1 className=\"text-white display-2 mx-1\">\n          {title ? title : \"Welcome to Our Blog\"}\n        </h1>\n      </div>\n    </div>\n  );\n};\n\nexport default Head;\n"],"sourceRoot":""}